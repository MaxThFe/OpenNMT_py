Search.setIndex({"docnames": ["CONTRIBUTING", "FAQ", "changes", "examples/ggnn/GGNN", "examples/summary/Summarization", "examples/wiki_103/LanguageModelGeneration", "examples/wmt17/Translation", "examples/wmt17/old_translation", "index", "legacy/FAQ", "legacy/im2text", "legacy/speech2text", "legacy/vid2text", "main", "onmt", "onmt.inputters", "onmt.modules", "onmt.translate.translation_server", "onmt.translation", "options/build_vocab", "options/server", "options/train", "options/translate", "quickstart", "ref"], "filenames": ["CONTRIBUTING.md", "FAQ.md", "changes.md", "examples/ggnn/GGNN.md", "examples/summary/Summarization.md", "examples/wiki_103/LanguageModelGeneration.md", "examples/wmt17/Translation.md", "examples/wmt17/old_translation.md", "index.rst", "legacy/FAQ.md", "legacy/im2text.md", "legacy/speech2text.md", "legacy/vid2text.rst", "main.md", "onmt.rst", "onmt.inputters.rst", "onmt.modules.rst", "onmt.translate.translation_server.rst", "onmt.translation.rst", "options/build_vocab.rst", "options/server.rst", "options/train.rst", "options/translate.rst", "quickstart.md", "ref.rst"], "titles": ["Contributors", "How do I use my v2 models in v3 ?", "Versions", "Gated Graph Neural Networks", "Summarization CNN/DM", "Language Model Wiki-103", "Translation WMT17 en-de", "Translation", "Contents", "FAQ (Legacy version)", "Image to Text", "Speech to Text", "Video to Text", "Overview", "Framework", "Data Loaders", "Modules", "Server", "Translation", "Build Vocab", "Server", "Train", "Translate", "Quickstart", "References"], "terms": {"opennmt": [0, 2, 3, 4, 8, 9, 10, 11, 12, 13, 14, 20], "py": [0, 1, 2, 3, 4, 5, 8, 9, 10, 11, 12, 13, 14, 19, 20, 21, 22], "i": [0, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 14, 15, 16, 17, 18, 19, 21, 22, 23, 24], "commun": [0, 1, 9], "develop": [0, 1, 2], "project": [0, 13, 16], "we": [0, 1, 2, 3, 4, 5, 7, 9, 10, 11, 12, 17, 18, 21, 23], "love": 0, "contribut": 0, "befor": [0, 1, 3, 4, 7, 9, 14, 17, 18, 22, 23], "send": [0, 1, 9, 21], "pr": [0, 2], "pleas": [0, 1, 3, 4, 9, 13, 23], "do": [0, 4, 7, 8, 12, 17, 18, 21, 22, 23], "thi": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 21, 22, 23], "checklist": 0, "first": [0, 1, 3, 9, 11, 12, 16, 18, 21], "run": [0, 1, 2, 3, 4, 5, 7, 8, 9, 12, 14, 16, 17, 21, 22, 23], "onmt": [0, 1, 5, 6, 14, 15, 16, 17, 18, 19, 21, 23], "test": [0, 1, 3, 4, 5, 6, 7, 10, 12, 21, 22, 23], "pull_request_chk": 0, "sh": [0, 3, 5, 6, 7, 12], "fix": [0, 1, 4, 18, 21], "ani": [0, 1, 2, 3, 4, 14, 18, 19, 21, 22, 23], "error": [0, 19, 21, 22], "when": [0, 4, 7, 8, 9, 13, 15, 16, 18, 19, 21, 22], "ad": [0, 1, 3, 4, 14, 19, 21, 22], "new": [0, 1, 2, 7, 12, 23], "function": [0, 1, 14, 15, 16, 17, 18, 21], "also": [0, 1, 4, 12, 14, 16, 21, 23], "add": [0, 7, 9, 12, 14, 15, 16, 21, 22, 23], "script": [0, 1, 4, 6, 7, 9, 12], "includ": [0, 1, 3, 4, 16, 19, 21, 22], "check": [0, 2, 4, 6], "flake8": 0, "code": [0, 3, 4, 12, 19, 21, 22], "style": [0, 3, 8, 16, 21], "unittest": 0, "continu": [0, 1, 12], "integr": [0, 1, 3], "list": [0, 3, 9, 12, 14, 16, 17, 18, 19, 21, 22], "github": [0, 3, 4, 6, 11, 13, 16, 21], "workflow": [0, 13], "push": 0, "yml": 0, "modifi": [0, 1, 2, 4, 9, 14, 18], "class": [0, 1, 2, 8, 14, 15, 16, 17], "constructor": [0, 16], "make": [0, 1, 2, 4, 9, 12, 15, 19, 21, 22], "argument": [0, 1, 8, 12, 14], "same": [0, 1, 2, 4, 5, 7, 9, 12, 14, 16, 17, 21], "name": [0, 1, 6, 8, 12, 15, 18, 21], "its": [0, 1, 3, 14, 16], "superclass": 0, "pytorch": [0, 1, 2, 3, 4, 11, 13, 16, 21], "If": [0, 1, 2, 3, 4, 7, 9, 12, 13, 14, 16, 17, 18, 21, 22, 23], "your": [0, 1, 2, 4, 9], "chang": [0, 1, 4, 8, 12, 14, 21], "base": [0, 1, 2, 3, 4, 7, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 21, 22, 24], "paper": [0, 1, 2, 3, 4, 9, 10, 12, 14, 16, 21], "clear": [0, 1], "comment": 0, "refer": [0, 1, 3, 8, 9, 12], "more": [0, 1, 2, 3, 9, 10, 12, 18, 19, 21, 22, 23], "below": [0, 3, 4], "abov": [0, 3, 9, 10, 18], "all": [0, 1, 2, 3, 11, 12, 14, 16, 18, 19, 21, 22, 24], "try": [0, 1, 4, 12, 23], "follow": [0, 1, 3, 4, 5, 6, 7, 9, 12, 13, 22, 23], "googl": [0, 1, 9, 18, 24], "format": [0, 1, 2, 4, 8, 9, 12, 17, 19, 21, 22], "napoleon": 0, "exampl": [0, 2, 3, 4, 5, 6, 7, 10, 11, 12, 14, 15, 19, 21, 22, 23], "styleguid": 0, "easi": 0, "sphinx": 0, "document": [0, 3, 4, 10, 11, 13], "And": [0, 12, 13, 16], "feel": [0, 2], "free": [0, 2, 17], "autodoc": 0, "api": 0, "rst": 0, "file": [0, 1, 3, 4, 5, 9, 10, 11, 12, 15, 17, 19, 21, 22, 23], "doc": [0, 2, 5, 6, 19, 21, 22], "sourc": [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 21, 22, 23], "folder": [0, 1, 4, 12, 21, 23], "you": [0, 2, 4, 7, 8, 10, 12, 13, 16, 21, 22, 23, 24], "addit": [0, 1, 3, 4, 8, 9, 14, 16, 19, 21, 22], "look": [0, 1, 4, 9, 10, 11, 13, 16, 22, 23], "right": 0, "how": [0, 2, 4, 8, 12, 13, 15, 16, 23], "build": [0, 1, 8, 9, 14, 17, 18, 23], "local": [0, 4, 6], "cd": [0, 3, 6, 12, 13, 23], "instal": [0, 4, 6, 7, 8, 10, 11, 12, 14], "some": [0, 7, 12, 13, 14, 19, 21, 22, 23], "depend": [0, 1, 2, 8, 12, 14, 16, 17], "necessari": [0, 1, 3, 7, 14, 18, 21, 22, 23], "recommonmark": 0, "sphinx_rtd_them": 0, "sphinxcontrib": 0, "bibtex": 0, "pip": [0, 1, 6, 10, 11, 12, 13, 23], "requir": [0, 1, 2, 3, 5, 9, 13, 14, 16, 19, 21, 23], "txt": [0, 1, 3, 4, 5, 9, 10, 11, 12, 13, 22, 23], "html": [0, 21], "firefox": 0, "main": [0, 1, 13, 14, 19, 21, 22], "browser": 0, "choic": [0, 4, 15, 16, 19, 21, 22], "particular": [0, 16], "advic": [0, 1], "python": [0, 1, 3, 4, 9, 12, 13, 14, 21], "3": [0, 3, 4, 6, 8, 9, 12, 14, 19, 21, 22], "type": [0, 1, 3, 4, 5, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 22], "modul": [0, 1, 2, 8, 14], "convent": 0, "except": [0, 1, 12, 17, 19, 21, 22], "us": [0, 2, 3, 4, 5, 7, 8, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22, 23], "instead": [0, 1, 2, 4, 12, 14, 16, 19, 21, 22], "union": 0, "readabl": 0, "For": [0, 1, 2, 3, 4, 18, 21, 23], "extern": 0, "full": [0, 1, 3, 4, 9, 16, 17, 19, 21, 22], "import": [0, 1, 4, 5, 12], "common": [0, 1, 4, 8], "abbrevi": 0, "e": [0, 8, 12, 13, 17, 21, 24], "g": [0, 4, 6, 8, 12, 13, 21], "np": 0, "ar": [0, 2, 3, 4, 5, 7, 8, 9, 12, 13, 14, 17, 18, 19, 21, 22, 23, 24], "accept": [0, 2, 18, 23], "torch": [0, 6, 9, 14, 16, 21], "tensor": [0, 14, 15, 16, 18], "option": [0, 1, 2, 4, 5, 6, 7, 8, 9, 13, 14, 15, 16, 17, 18, 19, 21, 22], "don": [0, 1, 12], "t": [0, 1, 4, 5, 9, 12, 16, 18, 24], "tic": 0, "like": [0, 3, 4, 10, 11, 12, 18, 22], "str": [0, 1, 3, 12, 14, 15, 16, 17, 18], "direct": [0, 4, 18], "obj": [0, 14], "handl": [0, 1, 4, 12, 14], "veri": [0, 1, 2, 9, 22, 23], "well": [0, 1, 3, 4, 9, 21], "without": [0, 4, 5, 8, 16, 21, 23], "help": [0, 1, 4, 12, 13, 22, 23], "so": [0, 1, 4, 9, 12, 21], "avoid": [0, 1, 2, 21], "clutter": 0, "support": [0, 2, 3, 8, 14, 16, 21], "multipl": [0, 1, 2, 3, 12, 14, 15, 16, 21, 22], "return": [0, 1, 5, 12, 14, 16, 17, 18], "work": [0, 3, 4, 8, 10, 11, 12, 13, 18, 21], "still": [0, 1, 2], "def": [0, 1, 12], "foo": 0, "b": [0, 3, 9, 18], "my": [0, 8], "arg": [0, 5, 12, 17, 18], "object": [0, 1, 3, 14, 15, 17, 18, 19, 21], "someth": 0, "anoth": [0, 14], "thing": [0, 2], "rather": [0, 1, 9], "long": [0, 1, 3, 4, 14], "descript": 0, "spill": 0, "over": [0, 1, 3, 4, 5, 7, 9, 12, 14, 16, 18, 21, 22], "cite": [0, 4, 13], "directli": [0, 3, 4, 16, 22], "link": [0, 1, 4, 10, 12], "entri": [0, 1, 19, 21, 22], "ref": [0, 21], "bib": 0, "attent": [0, 2, 3, 4, 5, 8, 11, 12, 14, 18, 22, 24], "need": [0, 1, 2, 3, 4, 5, 7, 9, 12, 13, 16, 21, 23, 24], "visit": [0, 12], "arxiv": [0, 21, 22, 24], "choos": [0, 12], "bibtext": 0, "search": [0, 4, 8, 12, 18, 23], "ctrl": 0, "f": [0, 4, 5, 12], "dblp": 0, "journal": 0, "corr": [0, 24], "vaswanispujgkp17": 0, "find": [0, 4, 12, 13], "copi": [0, 1, 3, 4, 12, 14, 15, 16, 21, 22], "past": [0, 1, 9, 21], "citat": [0, 8], "Then": [0, 7, 12, 14, 16, 23], "howev": [0, 1, 2, 4, 12, 14, 16], "better": [0, 1, 2, 4, 9, 19, 21, 22], "than": [0, 1, 2, 3, 6, 9, 12, 18, 21, 23], "noth": [0, 14], "shape": [0, 18], "prefer": [0, 1, 9], "c": [0, 1, 4, 9, 10, 11, 16, 20], "read": [0, 1, 12, 13, 17], "allow": [0, 1, 2, 3, 4, 15, 21], "x": [0, 1, 4, 5, 7, 9, 10, 14, 16, 18, 21], "multplic": 0, "few": [0, 1, 2, 12], "variat": 0, "parenthes": 0, "allennlp": 0, "exactli": 0, "fairseq": [0, 19, 21], "singl": [0, 1, 5, 6, 12, 14, 17, 19, 21, 22, 23], "tick": 0, "again": [0, 12], "differ": [0, 4, 5, 8, 12, 16, 17, 22], "unnecessari": 0, "space": [0, 1, 12, 21, 23], "charact": [0, 1, 10, 11, 19, 21, 22], "capit": 0, "punctuat": [0, 12], "multi": [0, 8, 16], "line": [0, 1, 3, 4, 5, 7, 9, 10, 11, 12, 15, 19, 21, 22, 23], "blank": [0, 1, 9, 12], "after": [0, 1, 3, 4, 12, 16, 18, 21], "close": [0, 1, 12, 19, 21, 22], "quot": 0, "Not": [0, 1], "note": [0, 1, 2, 4, 7, 8, 9, 12, 18, 23], "least": [0, 1], "focu": 0, "content": [0, 1, 22, 23], "rememb": 0, "consist": [0, 1, 10, 16, 23], "good": [0, 1, 9, 12, 21], "Be": 0, "sensibl": [0, 1], "about": [0, 1, 5], "gener": [0, 3, 4, 7, 8, 9, 11, 12, 14, 15, 16, 18, 22, 23, 24], "one": [0, 1, 2, 3, 4, 5, 9, 10, 11, 12, 16, 19, 21, 22, 23], "stand": 0, "alon": 0, "summari": [0, 4, 18, 22], "per": [0, 1, 2, 3, 4, 9, 10, 11, 12, 19, 21, 22, 23], "sometim": 0, "": [0, 4, 6, 7, 8, 9, 10, 12, 18, 19, 21, 22, 23, 24], "cut": [0, 5], "an": [0, 1, 3, 4, 5, 9, 10, 11, 12, 14, 15, 16, 19, 21, 22, 24], "extend": [0, 1, 4, 16], "It": [0, 1, 2, 4, 7, 9, 10, 11, 12, 13, 14, 16, 17, 23], "alwai": [0, 1, 16], "have": [0, 1, 3, 4, 6, 7, 9, 12, 14, 16, 18, 21, 23], "trail": 0, "yaml": [1, 3, 4, 5, 6, 7, 19, 21, 22, 23], "partial": 1, "To": [1, 2, 3, 4, 5, 9, 10, 11, 16, 23, 24], "overview": [1, 8], "quickstart": [1, 8, 13], "section": [1, 4, 5, 12], "tutori": [1, 12, 13, 23], "As": 1, "remind": [1, 2], "reli": [1, 2, 9], "torchtext": [1, 2], "5": [1, 3, 4, 6, 7, 9, 10, 12, 21, 22], "version": [1, 4, 6, 8, 10, 11, 12, 16, 17, 18], "field": [1, 4, 14], "rawfield": 1, "multifield": 1, "which": [1, 2, 3, 4, 9, 14, 15, 16, 18, 21, 23], "were": [1, 2, 23], "deprec": 1, "In": [1, 3, 4, 5, 12, 16, 22, 24], "order": [1, 9], "old": [1, 2, 12], "mimic": [1, 9], "those": [1, 9], "result": [1, 3, 4, 5, 9, 12, 17, 21], "newer": 1, "12": [1, 3, 4, 9, 19, 21, 22], "13": [1, 4], "14": [1, 7, 21], "convers": [1, 10, 11, 18], "elimin": 1, "complet": [1, 10, 18], "perfom": [1, 21], "tool": [1, 2, 9, 12], "convertv2": [1, 2], "_": [1, 2, 5, 7, 9, 10, 12, 16, 23], "v2model": 1, "myoldmodel": 1, "pt": [1, 3, 5, 6, 7, 9, 10, 11, 12, 21, 22, 23], "v3model": 1, "newmodel": 1, "The": [1, 2, 3, 4, 5, 7, 9, 10, 11, 12, 14, 16, 17, 18, 19, 21, 22, 23], "longer": [1, 2, 4, 22], "kei": [1, 12, 16, 21], "replac": [1, 12, 18, 19, 21, 22], "vocab": [1, 2, 3, 5, 7, 8, 9, 14, 15, 16, 18, 23], "rnn_size": [1, 2, 9, 12], "now": [1, 2, 4, 12, 23], "hidden_s": [1, 2, 3, 4, 7, 16, 21], "enc_rnn_siz": [1, 2, 11], "enc_hid_s": [1, 2, 21], "dec_rnn_siz": [1, 2, 11], "dec_hid_s": [1, 2, 21], "A": [1, 3, 4, 9, 10, 11, 14, 15, 16, 21, 24], "add_qkvbia": [1, 2, 16, 21], "true": [1, 2, 3, 4, 5, 7, 9, 12, 14, 15, 16, 18, 19, 21, 22], "default": [1, 2, 7, 9, 11, 12, 14, 16, 17, 19, 20, 21, 22, 23], "fals": [1, 2, 3, 4, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23], "special": [1, 9, 19, 21, 22], "gpt2": 1, "languag": [1, 4, 7, 8, 9, 19, 21, 22], "lm": [1, 5, 14, 21], "where": [1, 3, 4, 7, 9, 12, 15, 16, 18, 19, 21, 22, 23], "onli": [1, 2, 3, 4, 5, 9, 12, 14, 15, 16, 18, 19, 21, 22], "unk": [1, 18, 22], "flag": [1, 3, 4, 7, 14, 23], "structur": [1, 2, 3, 12, 16, 24], "sensit": [1, 9, 12], "hyperparamet": [1, 9, 12], "effect": [1, 4, 9, 16, 17, 19], "setup": [1, 7, 9, 13, 14, 16], "confirm": [1, 9], "replic": [1, 4, 9, 12, 16], "wmt": [1, 7, 9], "wmt17": [1, 8], "en": [1, 7, 8, 9, 21], "de": [1, 7, 8, 9, 17], "opt": [1, 4, 5, 7, 13, 14, 15, 16, 17, 21, 23], "save_model": [1, 3, 4, 7, 9, 10, 11, 12, 21, 23], "mybasemodel": 1, "save_checkpoint_step": [1, 3, 7, 9, 12, 14, 21, 23], "10000": [1, 3, 4, 9, 12, 14, 21, 23], "valid_step": [1, 7, 9, 12, 14, 21, 23], "train_step": [1, 3, 4, 7, 9, 11, 12, 14, 21, 23], "200000": [1, 4, 9], "batch": [1, 2, 7, 9, 12, 14, 15, 16, 18, 21, 22], "bucket_s": [1, 2, 7, 15, 21], "262144": [1, 7, 21], "world_siz": [1, 4, 7, 9, 12, 21, 23], "4": [1, 2, 3, 4, 6, 8, 9, 11, 12, 19, 21, 22], "gpu_rank": [1, 3, 4, 7, 9, 10, 11, 12, 14, 21, 23], "num_work": [1, 2, 7, 21], "batch_typ": [1, 4, 6, 7, 9, 15, 21, 22], "batch_siz": [1, 3, 4, 6, 7, 9, 10, 11, 12, 15, 16, 18, 21, 22], "4096": [1, 4, 6, 7, 9, 14], "valid_batch_s": [1, 4, 7, 21], "2048": [1, 7, 9, 12, 15, 21], "accum_count": [1, 4, 7, 9, 14, 21], "accum_step": [1, 7, 14, 21], "optim": [1, 2, 4, 7, 8, 9, 11, 12], "model_dtyp": [1, 7, 14, 21], "fp16": [1, 2, 7, 14, 21, 22], "adam": [1, 4, 7, 9, 11, 12, 14, 21], "learning_r": [1, 3, 4, 7, 9, 10, 11, 12, 14, 21], "warmup_step": [1, 4, 7, 9, 21], "8000": [1, 4, 9, 12], "decay_method": [1, 4, 7, 9, 21], "noam": [1, 4, 7, 9, 21, 24], "adam_beta2": [1, 4, 7, 9, 21], "998": [1, 4, 6, 7, 9], "max_grad_norm": [1, 4, 7, 9, 10, 11, 14, 21], "label_smooth": [1, 4, 7, 9, 21], "param_init": [1, 4, 7, 9, 12, 21], "param_init_glorot": [1, 4, 7, 9, 12, 21], "encoder_typ": [1, 3, 4, 5, 7, 9, 10, 12, 21], "decoder_typ": [1, 3, 4, 5, 7, 9, 12, 21], "position_encod": [1, 4, 7, 9, 12, 16, 21], "enc_lay": [1, 7, 11, 21], "6": [1, 3, 7, 9], "dec_lay": [1, 7, 11, 21], "8": [1, 2, 3, 4, 7, 9, 11, 12, 14, 21, 22], "512": [1, 4, 7, 9, 11, 12, 21], "word_vec_s": [1, 4, 7, 9, 10, 12, 16, 21], "transformer_ff": [1, 7, 9, 12, 21], "dropout_step": [1, 7, 14, 21], "dropout": [1, 4, 7, 9, 11, 12, 14, 16, 19, 21, 22], "attention_dropout": [1, 4, 7, 14, 16, 21], "here": [1, 2, 4, 5, 9, 12, 13, 18, 23], "most": [1, 2, 4, 12, 14, 18, 19, 21, 22], "paramet": [1, 3, 4, 5, 7, 9, 12, 14, 15, 16, 17, 18, 19, 21, 22, 23], "mean": [1, 2, 4, 9, 16, 17, 21, 23], "correct": [1, 9, 12, 14], "initi": [1, 3, 4, 8, 9, 12, 14, 15, 16, 17, 18], "sinusoid": [1, 9, 16, 21], "posit": [1, 2, 9, 14, 16, 21], "encod": [1, 2, 3, 4, 5, 8, 9, 11, 12, 14, 18, 23], "each": [1, 2, 3, 9, 12, 15, 16, 18, 19, 21, 22, 23], "rate": [1, 8, 9, 11, 14], "number": [1, 2, 3, 4, 9, 12, 14, 15, 16, 18, 19, 21, 22, 23], "sentenc": [1, 3, 4, 9, 18, 19, 21, 22, 23], "comput": [1, 2, 3, 4, 7, 9, 14, 16, 21, 22], "gradient": [1, 4, 9, 14, 21], "four": [1, 9, 10], "label": [1, 9, 10, 11, 14, 21], "smooth": [1, 6, 9, 19, 21, 22], "loss": [1, 4, 8, 9, 21], "batch_size_multipl": [1, 7, 15, 21], "vocab_size_multipl": [1, 21], "num": [1, 2], "worker": [1, 2], "dure": [1, 2, 3, 4, 16, 17, 21, 22], "decai": [1, 2, 14, 21], "system": [1, 2, 3, 10, 11, 18, 21, 24], "max_relative_posit": [1, 16, 21], "20": [1, 2, 4, 5, 6, 10, 12, 19, 21, 22], "fast": [1, 2, 6, 9], "ctranslate2": [1, 2, 14], "sure": [1, 4, 9, 12, 18], "export": [1, 9, 12], "cuda_visible_devic": [1, 9, 12], "want": [1, 2, 7, 9, 12, 22, 23], "id": [1, 9, 17, 18], "o": [1, 4, 9, 10, 11, 12], "both": [1, 9, 18, 21, 23], "node": [1, 3, 9, 14, 16, 21], "warn": [1, 9, 10, 11, 12, 15, 19, 21, 22], "distribut": [1, 14, 16, 18, 19, 21, 22], "ha": [1, 2, 4, 12, 18, 21, 23], "been": [1, 12, 18, 23], "properli": 1, "re": [1, 6, 9, 12, 18], "implement": [1, 2, 3, 4, 9, 12, 14, 16, 21, 23], "sinc": [1, 4, 9, 12, 16], "master_ip": [1, 9, 21], "master_port": [1, 9, 21], "second": [1, 3, 9, 11, 14, 16, 17], "accumul": [1, 4, 9, 14, 21], "network": [1, 4, 8, 9, 11, 12, 16, 24], "card": [1, 9], "gbp": [1, 9], "suggest": [1, 9, 21], "higher": [1, 9, 12, 18, 22], "minim": [1, 9], "inter": [1, 9], "legaci": [1, 2, 4, 10, 11, 12], "sever": [1, 9, 16, 18], "couldn": 1, "them": [1, 3, 9, 12, 16, 21], "exclus": [1, 9], "mode": [1, 5, 9, 19, 21, 22], "nvidia": [1, 6, 9, 21], "smi": [1, 9], "produc": [1, 2, 3, 9, 11, 18, 19, 21, 22], "consum": [1, 9], "n_gpu": [1, 9, 14], "process": [1, 2, 3, 4, 9, 12, 14, 17, 19, 21, 23], "spawn": [1, 2, 9], "host": [1, 9], "queue": [1, 9, 19], "next": [1, 9, 12, 14, 18, 22], "benefici": [1, 9], "wall": [1, 9], "time": [1, 9, 11, 12, 14, 18, 21, 22], "memori": [1, 9, 12, 14, 17], "load": [1, 2, 5, 9, 12, 14, 15, 16, 17, 21], "shard": [1, 9, 12, 21], "advanc": [1, 3, 9, 13, 16, 18, 21, 23], "doe": [1, 2, 3, 4, 9, 12, 22], "codebas": [1, 2], "becaus": [1, 3, 9, 16, 22], "move": [1, 17, 21], "devic": [1, 18, 22], "later": 1, "henc": [1, 3, 5, 10], "step": [1, 3, 4, 6, 8, 12, 13, 14, 16, 18, 21, 22], "onmt_train": [1, 5, 9, 10, 11, 12, 23], "execut": [1, 7, 19, 21], "mkdir": [1, 9], "glove_dir": [1, 9], "wget": [1, 9, 10, 11, 23], "http": [1, 3, 4, 6, 9, 10, 11, 13, 21, 22, 23, 24], "nlp": [1, 3, 9], "stanford": [1, 9], "edu": [1, 9, 10, 11], "6b": [1, 9], "zip": [1, 9, 12], "unzip": [1, 9, 12], "d": [1, 3, 4, 5, 9, 10, 12, 16, 20, 24], "adapt": [1, 4, 11], "your_config": 1, "config": [1, 3, 4, 5, 6, 7, 17, 19, 20, 21, 22, 23], "decod": [1, 3, 4, 5, 8, 9, 11, 12, 14, 19, 23], "side": [1, 4, 14, 17, 19, 21, 22], "both_embed": [1, 21], "100d": [1, 9], "src": [1, 3, 4, 5, 6, 7, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 21, 22, 23], "tgt": [1, 3, 4, 5, 7, 9, 10, 11, 14, 15, 16, 17, 19, 21, 22, 23], "separ": [1, 2, 3, 9, 12, 16, 22, 23], "src_embed": [1, 21], "tgt_embed": [1, 21], "word2vec": [1, 9, 21], "embeddings_typ": [1, 21], "dimens": [1, 3, 4, 16, 18, 21], "100": [1, 3, 4, 7, 9, 11, 18], "save": [1, 5, 12, 14, 19, 21, 22, 23], "save_data": [1, 3, 4, 7, 9, 10, 11, 12, 19, 21, 23], "enc_embed": 1, "dec_embed": 1, "freeze_word_vecs_enc": [1, 21], "freeze_word_vecs_dec": [1, 21], "freez": [1, 16, 21], "specifi": [1, 5, 9, 12, 14, 16, 19, 21, 22, 23], "onmt_transl": [1, 4, 5, 7, 10, 11, 12, 23], "command": [1, 4, 7, 9, 10, 12], "model1_seed1": 1, "model2_seed2": 1, "bear": [1, 9], "mind": [1, 9], "must": [1, 3, 5, 9, 16, 17, 19, 21, 22], "share": [1, 4, 5, 9, 12, 19, 21, 22], "natur": [1, 4], "introduc": [1, 4, 9], "own": 1, "ll": [1, 9, 12], "sequenti": [1, 15], "take": [1, 6, 9, 10, 13, 14, 16, 19, 21, 22], "corpu": [1, 4, 5, 7, 9, 15, 19, 21, 22, 23], "worri": 1, "homogen": 1, "heterogen": 1, "bucket": [1, 15, 21], "mechan": [1, 3, 4, 14, 16], "reason": 1, "sort": [1, 15, 17], "yield": [1, 15], "random": [1, 8, 12, 19, 21], "7": [1, 3, 9, 10, 16, 21], "corpus_1": [1, 5, 23], "path_src": [1, 3, 4, 5, 7, 23], "toi": [1, 3, 10, 11, 23], "end": [1, 3, 18, 23], "train1": 1, "path_tgt": [1, 3, 4, 7, 23], "corpus_2": 1, "valid": [1, 3, 4, 5, 7, 9, 12, 14, 15, 19, 21, 22, 23], "val": [1, 3, 4, 10, 11, 12, 23], "basic": [1, 4, 5], "pyonmttok": [1, 8, 19, 21, 22], "nbest": 1, "alpha": [1, 4, 18, 22], "src_subword_typ": [1, 5, 19, 21, 22], "src_subword_model": [1, 5, 7, 19, 21, 22], "spm": 1, "tgt_subword_typ": [1, 19, 21, 22], "tgt_subword_model": [1, 7, 19, 21, 22], "candid": [1, 19, 21, 22], "subword_nbest": 1, "subword_alpha": 1, "src_onmttok_kwarg": [1, 5, 19, 21, 22], "none": [1, 6, 7, 14, 15, 16, 17, 18, 19, 21, 22], "spacer_annot": 1, "tgt_onmttok_kwarg": [1, 19, 21, 22], "onmt_token": [1, 5, 19, 21, 22], "other": [1, 2, 7, 12, 14, 18, 19, 21, 22, 23, 24], "method": [1, 2, 4, 5, 14, 16, 21], "see": [1, 4, 5, 10, 12, 14, 16, 17, 18, 19, 21, 23, 24], "dedic": [1, 15], "detail": [1, 5, 10, 13, 19, 21, 23], "lucki": 1, "dai": [1, 24], "alreadi": [1, 5], "easili": 1, "everi": [1, 4, 9, 14, 15, 16, 21, 22], "found": [1, 4, 5], "filtertoolong": [1, 3, 4, 7, 19, 21, 22], "misc": 1, "filtertoolongtransform": 1, "src_seq_length": [1, 3, 4, 7, 12, 19, 21, 22], "maximum": [1, 4, 19, 21, 22], "sequenc": [1, 3, 4, 5, 12, 14, 16, 17, 18, 19, 21, 22, 24], "tgt_seq_length": [1, 3, 4, 7, 10, 12, 19, 21, 22], "prefixtransform": 1, "dataset": [1, 4, 5, 7, 8, 10, 12, 19, 21, 23], "src_prefix": [1, 19, 21, 22], "tgt_prefix": [1, 19, 21, 22], "__some_src_prefix__": 1, "__some_tgt_prefix__": 1, "At": [1, 21], "uniqu": 1, "oppos": 1, "come": 1, "given": [1, 2, 3, 9, 10, 11, 17], "nllb": [1, 21], "200": [1, 9, 14, 19, 21, 22], "case": [1, 2, 3, 6, 14, 16, 19, 21, 22], "spa_latn": 1, "tgt_file_prefix": [1, 18, 22], "suffixtransform": 1, "src_suffix": [1, 19, 21, 22], "tgt_suffix": [1, 19, 21, 22], "__some_src_suffix__": 1, "__some_tgt_suffix__": 1, "uppercasetransform": 1, "present": [1, 4], "cap": [1, 12], "string": [1, 12, 16, 19, 21, 22], "strip": [1, 4, 12], "diacrit": 1, "accent": 1, "usual": [1, 5, 23], "desir": [1, 7], "although": [1, 12, 16], "upper_corpus_ratio": [1, 19, 21, 22], "ratio": [1, 6, 7, 12, 18, 19, 21, 22], "01": [1, 11, 19, 21, 22], "normalizetransform": 1, "rule": [1, 3, 21], "mose": 1, "src_lang": [1, 19, 21, 22], "cz": 1, "fr": 1, "tgt_lang": [1, 19, 21, 22], "penn": [1, 19, 21, 22], "substitut": [1, 19, 21, 22], "norm_quote_comma": [1, 19, 21, 22], "quotat": [1, 19, 21, 22], "comma": [1, 19, 21, 22], "norm_numb": [1, 19, 21, 22], "pre_replace_unicode_punct": [1, 19, 21, 22], "unicod": [1, 19, 21, 22], "punct": [1, 19, 21, 22], "post_remove_control_char": [1, 19, 21, 22], "remov": [1, 2, 4, 5, 12, 19, 21, 22], "control": [1, 14, 19, 21, 22], "char": [1, 19, 21, 22], "docifi": [1, 8], "docifytransform": 1, "concaten": [1, 21], "delimit": [1, 3, 19, 21, 22], "pre": [1, 9, 14, 17, 18], "requisit": 1, "empti": [1, 5, 7, 15, 16, 18, 19, 21], "stori": 1, "doc_length": [1, 19, 21, 22], "max": [1, 2, 3, 12, 14, 16, 18, 19, 21, 22], "max_context": [1, 19, 21, 22], "ie": 1, "precaut": 1, "linearli": 1, "stride": [1, 11, 15], "fuzzymatch": [1, 8], "fuzzymatchtransform": 1, "describ": [1, 2, 4, 12, 13, 17, 21], "machin": [1, 4, 13, 16, 18, 23, 24], "current": [1, 4, 9, 14, 15, 16, 18, 21], "tm": [1, 19, 21, 22], "should": [1, 2, 3, 4, 7, 9, 12, 14, 15, 16, 18, 21, 23], "flat": [1, 19, 21, 22], "text": [1, 8, 15, 16, 18, 19, 21, 22, 24], "contain": [1, 5, 9, 10, 11, 16, 17, 18, 23], "intens": 1, "offer": 1, "achiev": [1, 4], "overhead": 1, "spec": 1, "mai": [1, 2, 9, 14, 15, 17, 18, 19, 21], "experi": [1, 4, 19, 21, 22], "bucket_size_init": [1, 15, 21], "bucket_size_incr": [1, 15, 21], "increas": [1, 2, 3, 12, 16], "prefetch_factor": [1, 21], "wait": [1, 21], "size": [1, 2, 3, 4, 11, 12, 14, 15, 16, 18, 19, 21, 22], "200k": 1, "250k": 1, "unit": [1, 3, 16, 23], "enough": 1, "suffici": [1, 2], "short": [1, 11], "bit": [1, 22], "n_sampl": [1, 4, 5, 6, 7, 19, 21, 23], "tm_path": [1, 19, 21, 22], "path": [1, 3, 5, 9, 10, 11, 12, 16, 17, 18, 19, 21, 22, 23], "fuzzy_corpus_ratio": [1, 19, 21, 22], "fuzzy_threshold": [1, 19, 21, 22], "threshold": [1, 19, 21, 22], "70": [1, 3, 12, 19, 21, 22], "tm_delimit": [1, 19, 21, 22], "fuzzy_token": [1, 19, 21, 22], "fuzzymatch_min_length": [1, 19, 21, 22], "min": [1, 19, 21, 22], "fuzzymatch_max_length": [1, 19, 21, 22], "inlinetag": [1, 8], "inlinetagstransform": 1, "placehold": 1, "kind": 1, "pair": [1, 3, 4, 9, 12, 14, 15, 17, 19, 21, 22], "open": [1, 12, 13, 19, 21, 22], "isol": [1, 19, 21, 22], "standalon": 1, "tab": [1, 22], "dictionari": [1, 4, 14, 16, 18, 19, 21, 22], "term": [1, 9, 14, 16, 19, 21, 22, 23], "phrase": 1, "30k": 1, "recommend": [1, 2, 6, 21], "user": [1, 2, 14, 17], "defin": [1, 3, 4, 5, 7, 14, 15, 16, 19, 21, 22], "tags_dictionary_path": [1, 19, 21, 22], "tags_corpus_ratio": [1, 19, 21, 22], "max_tag": [1, 19, 21, 22], "paired_stag": [1, 19, 21, 22], "ph": 1, "beg": 1, "paired_etag": [1, 19, 21, 22], "isolated_tag": [1, 19, 21, 22], "std": 1, "src_delimit": [1, 19, 21, 22], "src_subword_nbest": [1, 7, 19, 21, 22], "tgt_subword_nbest": [1, 7, 19, 21, 22], "src_subword_alpha": [1, 7, 19, 21, 22], "probabl": [1, 9, 16, 18, 19, 21, 22], "tgt_subword_alpha": [1, 7, 19, 21, 22], "onmttokenizertransform": 1, "kwarg": [1, 16], "sentencepiecetransform": 1, "bpetransform": 1, "compos": 1, "part": [1, 3, 4, 5, 12, 18], "denois": 1, "comprehens": 1, "These": [1, 2, 3, 4, 12, 16, 18], "permute_sent_ratio": [1, 19, 21, 22], "proport": [1, 19, 21, 22], "permut": [1, 19, 21, 22], "boundari": [1, 4, 19, 21, 22], "rotate_ratio": [1, 19, 21, 22], "input": [1, 2, 3, 4, 5, 12, 14, 15, 16, 17, 18, 19, 21, 22, 24], "insert_ratio": [1, 19, 21, 22], "insert": [1, 19, 21, 22], "random_ratio": [1, 19, 21, 22], "mask_ratio": [1, 19, 21, 22], "mask_length": [1, 19, 21, 22], "window": [1, 11, 14, 19, 21, 22], "span": [1, 19, 21, 22], "poisson": [1, 19, 21, 22], "poisson_lambda": [1, 19, 21, 22], "lambda": [1, 12, 19, 21, 22], "valu": [1, 2, 3, 4, 7, 9, 14, 16, 17, 18, 19, 21, 22], "replace_length": [1, 19, 21, 22], "n": [1, 2, 4, 12, 16, 18, 19, 21, 22, 23, 24], "switchouttransform": 1, "switchout_temperatur": [1, 19, 21, 22], "temperatur": [1, 18, 19, 21, 22], "tokendrop": [1, 19, 21, 22], "tokendroptransform": 1, "tokendrop_temperatur": [1, 19, 21, 22], "delet": [1, 12, 19, 21, 22], "tokenmask": [1, 19, 21, 22], "tokenmasktransform": 1, "tokenmask_temperatur": [1, 19, 21, 22], "inherit": 1, "instanc": [1, 14, 16, 18], "templat": 1, "register_transform": 1, "out": [1, 2, 3, 4, 5, 12, 14, 16], "too": [1, 3, 12, 18, 21], "classmethod": [1, 14, 15, 16], "add_opt": 1, "cl": [1, 14], "parser": [1, 12], "avalil": 1, "relat": [1, 7, 19, 21, 22], "group": [1, 3, 14, 21, 22, 23], "add_argument_group": 1, "int": [1, 3, 12, 14, 15, 16, 17, 18], "_parse_opt": 1, "self": [1, 16, 17, 18, 21], "is_train": 1, "stat": [1, 12, 14, 21], "els": [1, 12], "len": [1, 12, 14, 16, 18], "filtertoolongstat": 1, "_repr_arg": 1, "repres": [1, 3, 23], "would": [1, 2, 18, 21], "pars": [1, 15, 16, 17], "happen": [1, 18, 19, 21], "clean": [1, 8, 12], "log": [1, 8, 14, 18], "wrapper": [1, 4, 14], "definit": [1, 3, 16], "automat": [1, 3, 4], "detect": 1, "proper": [1, 17], "usabl": 1, "through": [1, 2, 3, 14], "could": [1, 9, 12, 18], "collect": [1, 12, 15], "statist": [1, 14, 21], "observablestat": 1, "rune": 1, "__slots__": 1, "__init__": [1, 17], "element": [1, 15], "keep": [1, 12, 14, 17, 18, 21], "track": 1, "__slot__": 1, "lightweight": 1, "suppli": 1, "logic": 1, "overrid": [1, 16, 18, 19, 21], "__str__": 1, "messag": 1, "instanti": [1, 14], "pass": [1, 9, 14, 16, 17, 21], "correspond": [1, 15, 22], "gather": [1, 14], "report": [1, 12, 13, 14, 22], "dict": [1, 14, 15, 16, 17, 19, 21, 22], "form": [1, 4], "pharaoh": [1, 9], "inputt": [1, 15], "parallelcorpu": [1, 15], "consid": [1, 4, 12, 16], "futur": [1, 9], "customparallelcorpu": 1, "cf": [1, 2, 14, 21], "bigger": 1, "limit": [1, 22], "anmount": 1, "vram": 1, "principl": [1, 9], "layer": [1, 3, 4, 9, 12, 14, 16, 21, 22, 23], "trainabl": [1, 14], "reduc": [1, 2, 9, 14], "amount": [1, 4, 12, 15, 21], "especi": 1, "3b": [1, 21], "lora_lay": [1, 21], "linear_valu": [1, 21], "linear_queri": [1, 21], "two": [1, 4, 9, 12, 16], "lora_rank": [1, 21], "lora_dropout": [1, 21], "lora_alpha": [1, 21], "lora_embed": [1, 21], "compat": [1, 2, 12], "update_vocab": [1, 21], "report_align": [1, 9, 18, 22], "call": [1, 4, 9, 12, 16, 18], "output": [1, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 16, 17, 18, 19, 21, 22, 23], "argmax": [1, 9, 12, 22], "last": [1, 9, 14, 16, 21], "behaviour": [1, 9], "wa": [1, 4, 9], "empir": [1, 4, 9], "determin": [1, 9], "thei": [1, 9, 12, 16, 18], "penultim": [1, 9], "slight": [1, 5], "architectur": [1, 9, 12], "standard": [1, 4, 9, 16, 21, 22], "j": [1, 4, 9, 16, 24], "indic": [1, 3, 9, 12, 14, 16, 18, 19, 21, 22], "th": [1, 9], "da": [1, 9], "stimmt": [1, 9], "nicht": [1, 9], "gold_align": [1, 18, 22], "between": [1, 2, 3, 4, 5, 7, 9, 16, 19, 21, 22, 24], "gold": [1, 9, 18, 22], "assum": [1, 3, 4, 9, 10, 11, 12, 18], "evalu": [1, 8, 9, 12, 14, 23], "symetr": [1, 9], "bidirect": [1, 4, 9, 16, 21], "lilt": [1, 9], "qualiti": [1, 9], "further": [1, 9, 19, 21], "improv": [1, 9, 12, 14, 16, 18, 21, 24], "provid": [1, 2, 3, 5, 9, 10, 11, 13, 22], "invok": [1, 9], "task": [1, 5, 7, 8, 9, 15], "jointli": [1, 4, 9, 14, 16, 24], "preprocess": [1, 2, 4, 10, 11, 12, 17], "giza": [1, 9], "path_align": 1, "incompat": 1, "joint": [1, 9], "pipelin": [1, 2, 19, 21, 22, 23], "modif": [1, 14], "level": [1, 15, 19, 21], "made": [1, 23], "invalid": [1, 19, 21, 22], "There": [1, 3, 9], "lambda_align": [1, 9, 14, 21], "enabl": [1, 4, 5, 9, 16, 22, 23], "05": [1, 4, 9, 16], "alignment_lay": [1, 9, 16, 21], "index": [1, 9, 12, 16], "alignment_head": [1, 9, 16, 21], "kept": [1, 9], "num_head": [1, 9], "full_context_align": [1, 9, 16, 21], "slow": [1, 2, 3, 9, 19, 22], "down": [1, 2, 9, 18, 19, 23], "tok": [1, 6, 9, 17], "exist": [1, 2, 4, 19, 21, 22, 23], "map": [1, 12, 14, 16], "onmt_build_vocab": [1, 3, 4, 5, 7, 23], "reset_optim": [1, 21], "state": [1, 3, 4, 14, 16, 18, 21], "train_from": [1, 21], "inform": [1, 3, 16, 21, 22], "incorpor": [1, 21], "append": [1, 12, 19, 21, 22], "actual": [1, 12, 18, 23], "textual": 1, "accord": [1, 2], "l": [1, 10, 12], "she": 1, "hard": 1, "prior": [1, 7, 21], "featinfertransform": 1, "instac": 1, "n_src_feat": [1, 15, 19, 21, 22], "expect": [1, 5, 12, 14, 18], "src_feats_default": [1, 15, 19, 21, 22], "realli": 1, "mix": [1, 6, 14, 15], "annot": [1, 3, 12, 19, 21, 22], "appropri": [1, 3, 18], "src_word_vec_s": [1, 3, 16, 21], "tgt_word_vec_s": [1, 3, 21], "feat_merg": [1, 16, 21], "vec": [1, 12], "feat_vec_s": [1, 12, 16, 21], "mayb": 1, "feat_vec_expon": [1, 16, 21], "ensur": [1, 12], "possibl": [1, 2, 17, 18, 19, 21, 22, 23], "concat": [1, 16, 21], "dummi": 1, "inferfeat": [1, 8], "reversible_token": [1, 19, 21, 22], "joiner": [1, 19, 21, 22], "src_vocab": [1, 3, 4, 7, 16, 19, 21, 23], "exp": [1, 6, 21], "tgt_vocab": [1, 3, 4, 7, 19, 21, 23], "sum": [1, 14, 16, 18, 21], "rest": [1, 20], "serv": 1, "discuss": 1, "forum": [1, 13], "idea": [1, 9], "behind": 1, "point": [1, 4, 24], "receiv": [1, 2], "detoken": [1, 7, 17], "available_model": [1, 20], "conf": [1, 20], "json": [1, 20], "along": [1, 12, 14], "models_root": 1, "manual": [1, 17, 18], "assign": [1, 22], "counter": 1, "ass": 1, "timeout": [1, 17], "interv": [1, 21], "unload": [1, 17], "reset": 1, "whether": [1, 14, 16, 17, 18, 21], "on_timeout": [1, 17], "everyth": 1, "to_cpu": [1, 17], "transfer": 1, "ram": [1, 12], "faster": [1, 16], "reload": 1, "translate_opt": 1, "bool": [1, 3, 14, 15, 16, 17, 18], "ct2_translator_arg": [1, 17], "ct2_translate_batch_arg": [1, 17], "engin": 1, "appear": 1, "simultan": 1, "ct2_": 1, "_arg": 1, "ident": 1, "ct2_model": [1, 17], "model_0": 1, "600": 1, "beam_siz": [1, 3, 4, 5, 6, 7, 10, 18, 22], "wmtenfr": 1, "light": [1, 9], "model_root": [1, 17], "other_model": 1, "10": [1, 4, 5, 6, 12, 13, 21, 22, 24], "merg": [1, 16, 21], "master": [1, 21, 23], "branch": [1, 2], "cp": 1, "path_to_my_model": 1, "ip": [1, 20, 21], "port": [1, 20, 21], "5000": [1, 3, 7, 14, 16, 19, 20, 21], "url_root": [1, 20], "optionn": 1, "explicit": 1, "librari": [1, 21], "configargpars": 1, "cor": 1, "22": [1, 5], "waitress": 1, "dockerfil": 1, "cuda10": 1, "cudnn7": 1, "runtim": 1, "workdir": 1, "usr": [1, 4], "app": 1, "cach": [1, 6], "dir": [1, 6, 16], "r": [1, 3, 4, 10, 12, 13, 16, 21, 24], "volum": 1, "cmd": 1, "imag": [1, 2, 8, 14], "opennmt_serv": 1, "rm": [1, 12], "p": [1, 4, 5, 10, 16, 18, 22, 24], "fex": 1, "rout": 1, "bin": [1, 4, 6], "127": 1, "curl": 1, "wmt14": 1, "de_acc_69": 1, "22_ppl_4": 1, "33_e9": 1, "involv": 1, "post": 1, "h": [1, 4, 9, 16, 19, 20, 21, 22], "applic": 1, "model_id": [1, 17], "u2581di": 1, "u2581formen": 1, "kant": 1, "u2581": 1, "k": [1, 2, 4, 5, 18, 22], "u00f6r": 1, "ner": 1, "u2581d": 1, "u2581stahl": 1, "u": [1, 2, 4, 5, 7], "u00df": 1, "statu": 1, "ok": [1, 3], "total": [1, 14, 21], "510261535644531": 1, "509992599487305": 1, "writing_src": 1, "0002689361572265625": 1, "v3": [2, 8], "releas": [2, 4], "anymor": 2, "checkpoint": [2, 7, 8, 12, 14, 21, 23], "slightli": [2, 9, 12], "convert": [2, 9, 12, 15, 17], "v2": [2, 8], "model": [2, 3, 6, 8, 10, 11, 12, 13, 16, 18, 19], "dynam": [2, 5, 8, 15, 16, 22], "paradigm": 2, "appli": [2, 4, 5, 8, 11, 14, 15, 16, 17, 18, 19, 21, 22], "fly": [2, 5, 7, 8], "transform": [2, 3, 4, 5, 6, 7, 8, 11, 13, 14, 15, 16, 23, 24], "data": [2, 8, 9, 10, 11, 12, 14, 18, 24], "advantag": 2, "amongst": 2, "drastic": [2, 4], "train": [2, 3, 8, 10, 11, 12, 13, 14, 15, 16], "augment": [2, 19, 21, 22, 24], "manipul": [2, 14], "can": [2, 3, 4, 5, 7, 8, 10, 12, 13, 15, 17, 18, 19, 21, 22, 23], "specif": [2, 4, 8, 13, 15, 18, 19, 21, 23], "token": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 21, 22, 23], "filter": [2, 3, 4, 7, 8, 12], "nois": [2, 8], "custom": [2, 8, 14, 17, 21], "quit": [2, 23], "straightforward": 2, "thank": [2, 23], "updat": [2, 8, 9, 14, 17, 18, 21], "readili": [2, 8], "avail": [2, 5, 8, 12, 14, 17, 21, 22], "queue_siz": 2, "pool_factor": 2, "adjust": [2, 3], "dataload": [2, 21], "gpu": [2, 3, 4, 6, 7, 8, 10, 11, 12, 14, 17, 18, 21, 22, 23], "1": [2, 3, 4, 6, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 21, 22, 24], "2": [2, 3, 4, 6, 8, 9, 10, 11, 12, 14, 21], "set": [2, 3, 4, 5, 6, 7, 8, 9, 12, 14, 16, 17, 18, 19, 21, 22, 23], "origin": [2, 12, 14, 21], "bia": [2, 14, 16, 21], "q": [2, 16], "v": [2, 6, 24], "nn": [2, 14, 16, 21], "linear": [2, 3, 12, 16, 21], "multihead": 2, "renam": [2, 12], "convertv2_v3": 2, "store": [2, 5, 10, 11], "0": [2, 3, 4, 6, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22], "infer": [2, 5, 8, 10, 15, 18], "translat": [2, 3, 4, 8, 10, 11, 12, 13, 14, 16, 17, 20, 24], "iter": [2, 5, 8, 14, 21], "trainer": [2, 8, 23], "length_penalti": [2, 4, 7, 18, 22], "avg": [2, 7, 16, 22], "bleu": [2, 6, 7, 12], "score": [2, 6, 8, 12, 14, 16, 17, 22], "compar": [2, 7, 12], "toolkit": [2, 7, 13], "featur": [2, 3, 8, 11, 12, 13, 14, 16, 17, 24], "drop": 2, "v1": [2, 13], "audio": [2, 11], "video": [2, 8], "previou": [2, 18], "retain": 2, "extens": 2, "from": [2, 3, 4, 5, 8, 10, 11, 12, 13, 14, 15, 16, 18, 21, 22, 23], "core": [2, 8, 14], "team": 2, "let": [2, 4, 7], "know": [2, 7, 12], "what": [2, 8, 9, 10, 12, 14, 17], "think": 2, "cpu": [2, 6, 17, 22], "resourc": [2, 8], "power": 2, "ideal": 2, "2n": 2, "thread": [2, 19], "averag": [2, 3, 7, 8, 14, 16, 21, 22, 24], "rel": [2, 10, 11, 16, 21], "represent": [3, 11, 16, 21, 24], "ast": 3, "connect": [3, 12], "benefit": 3, "ggnn": [3, 16, 21], "com": [3, 4, 6, 11, 13, 16, 23], "jameschuanggg": [3, 16], "git": [3, 4, 6, 11, 12, 13, 16], "y": [3, 4, 11, 12, 16], "li": [3, 16], "tarlow": [3, 16], "m": [3, 4, 12, 13, 16, 24], "brockschmidt": [3, 16], "zemel": [3, 16], "program": 3, "equival": [3, 4, 21], "proof": 3, "dataflow": 3, "via": [3, 14, 16, 21, 24], "rewrit": 3, "That": [3, 12], "show": [3, 4, 12], "problem": [3, 10, 18], "graphic": 3, "beyond": [3, 14], "rnn": [3, 4, 14, 16, 21], "sequence2sequ": 3, "get": [3, 4, 10, 11, 12, 23, 24], "directori": [3, 10, 11, 12, 17, 21], "throughout": [3, 10, 11], "download": [3, 8, 10, 11, 12, 23], "sibl": 3, "clone": [3, 4, 6, 12, 13, 17], "stevekommrusch": 3, "env": 3, "configur": [3, 4, 5, 7, 8, 16, 23], "written": [3, 4, 7, 14, 23], "1000": [3, 12, 23], "30": [3, 14, 18, 21, 22], "cnndm": [3, 4], "weight": [3, 4, 7, 8, 14, 15, 16, 21, 22], "srcvocab": 3, "tgtvocab": 3, "start_decay_step": [3, 21], "learning_rate_decai": [3, 11, 21], "global_attent": [3, 4, 11, 21], "32": [3, 21], "src_ggnn_size": [3, 16, 21], "larger": [3, 23], "plu": [3, 21], "hot": 3, "less": [3, 6, 12], "learn": [3, 4, 5, 8, 10, 11, 14, 16, 21, 24], "16": [3, 4, 12, 18, 24], "state_dim": [3, 16, 21], "togeth": [3, 23], "embed": [3, 4, 8, 12, 19], "64": [3, 9, 12, 21], "bridg": [3, 4, 21, 24], "n_edge_typ": [3, 16, 21], "9": [3, 4, 5, 6, 10, 14, 21], "n_step": [3, 16, 21], "aggreg": 3, "hop": 3, "n_node": [3, 16, 21], "algebra": 3, "express": 3, "axiom": 3, "prove": 3, "model_step_10000": 3, "n_best": [3, 5, 17, 18, 22], "pred": [3, 6, 10, 11, 12, 21, 22], "test_beam5": 3, "translate5": 3, "leverag": 3, "interfac": [3, 14, 16], "much": [3, 12, 21], "nearal": 3, "edg": [3, 16, 21], "eot": 3, "equat": 3, "being": 3, "extra": [3, 9, 13, 16, 21], "rang": [3, 14, 22], "9th": 3, "just": [3, 4, 12, 23], "non": [3, 16, 18, 21], "mathemat": 3, "matric": 3, "identifi": [3, 22], "certain": 3, "occur": 3, "shown": 3, "remain": 3, "numer": [3, 14], "integ": [3, 18], "duplic": 3, "vector": [3, 12, 14, 16, 21], "up": [3, 4, 8, 12, 16, 22], "largest": 3, "creat": [3, 8, 9, 12, 14, 23], "lower": [3, 12, 21], "bet": 3, "rnn_type": [3, 11, 16, 21], "recurr": [3, 8, 16], "lstm": [3, 4, 10, 11, 16, 21, 23], "bidir_edg": [3, 16, 21], "revers": [3, 16, 19, 21, 22], "bridge_extra_nod": [3, 16, 21], "1st": [3, 16], "stabil": [3, 14, 16], "bottom": 4, "abstract": [4, 16], "instruct": [4, 21], "inproceed": [4, 13], "gehrmann2018bottom": 4, "titl": [4, 13], "author": [4, 12, 13], "gehrmann": 4, "sebastian": 4, "deng": [4, 13], "yuntian": [4, 13], "rush": [4, 13], "alexand": [4, 13], "booktitl": [4, 13], "proceed": 4, "2018": [4, 24], "confer": 4, "page": 4, "4098": 4, "4109": 4, "year": [4, 13], "access": 4, "split": [4, 12], "articl": 4, "australia": 4, "account": [4, 12], "deficit": 4, "shrunk": 4, "record": 4, "billion": 4, "dollar": 4, "lrb": 4, "rrb": 4, "june": 4, "quarter": 4, "due": [4, 12, 21], "soar": 4, "commod": 4, "price": 4, "figur": 4, "mondai": 4, "australian": 4, "narrow": 4, "sharpli": 4, "et": [4, 21], "al": [4, 21], "addition": [4, 16], "truncat": [4, 14, 21], "length": [4, 7, 12, 14, 16, 18, 19, 21, 22], "400": [4, 12], "target": [4, 5, 7, 9, 14, 16, 17, 19, 21, 22, 23], "surround": 4, "tag": [4, 19, 21, 22], "w1": 4, "w2": 4, "w3": 4, "sed": [4, 6], "sampl": [4, 5, 8, 10, 11, 18, 19, 21, 23], "prevent": [4, 18, 22, 23], "overwrit": [4, 19, 21, 23], "src_seq_length_trunc": [4, 21], "tgt_seq_length_trunc": [4, 21], "vocabulari": [4, 8, 9, 14, 16, 19, 21, 22, 23], "share_vocab": [4, 5, 19, 21], "procedur": 4, "similar": [4, 12, 16, 21], "signific": [4, 12], "copy_attn": [4, 14, 15, 16, 18, 21], "word": [4, 8, 16, 18, 19, 21, 22], "mlp": [4, 11, 16, 21], "bahdanau": [4, 16, 21, 24], "luong": [4, 16, 21, 24], "dot": [4, 16, 21], "share_embed": [4, 7, 21], "decreas": 4, "did": 4, "reuse_copy_attn": [4, 16, 21], "reus": [4, 16, 21], "copy_loss_by_seqlength": [4, 21], "divid": [4, 7, 14, 21, 22], "practic": 4, "penalti": [4, 7, 8, 14, 18], "final": [4, 7, 16, 18], "hidden": [4, 14, 16, 21, 23], "adagrad": [4, 21], "outperform": 4, "sgd": [4, 21], "coupl": 4, "adagrad_accumulator_init": [4, 21], "match": [4, 17, 19, 21, 22], "algorithm": [4, 14, 24], "tensorflow": [4, 21], "align": [4, 8, 14, 15, 16, 17, 18, 22, 24], "previous": 4, "dynamic_dict": 4, "128": 4, "dimension": [4, 16], "On": [4, 14], "brnn": [4, 10, 12, 21], "256": 4, "norm": [4, 14, 16, 21], "renorm": [4, 21], "exce": [4, 21], "src_vocab_s": [4, 21], "50000": [4, 21], "tgt_vocab_s": [4, 21], "15": [4, 5, 18, 24], "seed": [4, 7, 12, 18, 19, 21, 22], "777": 4, "model_transform": 4, "normal": [4, 7, 8, 9], "beam": [4, 8, 12, 18, 23], "stepwise_penalti": [4, 18, 22], "coverage_penalti": [4, 18, 22], "repeat": [4, 12, 18, 22], "beta": [4, 14, 18, 22], "coverag": [4, 14, 16, 18, 21, 22], "wu": [4, 22, 24], "block_ngram_repeat": [4, 18, 22], "trigram": 4, "ignore_when_block": [4, 18, 22], "testout": 4, "min_length": [4, 18, 22], "35": [4, 6], "verbos": [4, 5, 9, 10, 11, 12, 18, 21, 22, 23], "roug": [4, 12], "pyroug": 4, "gram": [4, 18], "typic": [4, 14, 21], "repositori": [4, 12], "sub": 4, "repo": [4, 12], "recurs": 4, "submodul": 4, "sebastiangehrmann": 4, "baselin": [4, 12, 21], "maco": 4, "pointer": [4, 16, 24], "perl": 4, "pl": 4, "might": 4, "simpl": [4, 14], "w": [4, 12, 16, 24], "fail": [4, 18], "sent_tag_verbatim": 4, "around": [4, 14, 16], "becom": 4, "larg": 4, "parallel": [4, 9, 15, 16, 18, 19, 23], "files2roug": 4, "giga": 4, "r1": 4, "r2": 4, "rl": 4, "39": 4, "43": 4, "02": [4, 11], "53": 4, "17": [4, 16, 24], "18": 4, "77": 4, "28": [4, 6], "98": [4, 21], "56": 4, "36": 4, "38": 4, "37": 4, "76": 4, "60": 4, "44": 4, "31": 4, "66": [4, 6], "34": 4, "46": 4, "33": [4, 12], "42": 4, "emb": [4, 16], "hid": 4, "40": [4, 21, 22], "90": 4, "91": 4, "99": 4, "25": [4, 12], "59": 4, "97": 4, "75": 4, "93": 4, "67": 4, "1024": 4, "41": [4, 6, 12], "94": 4, "27": 4, "83": 4, "09": 4, "54": 4, "45": 4, "51": 4, "vinyal": [4, 24], "fortunato": 4, "jaitli": 4, "2015": [4, 24], "nip": 4, "liu": [4, 24], "man": [4, 24], "2017": [4, 13, 21, 24], "acl": [4, 13, 24], "cho": [4, 24], "bengio": [4, 24], "2014": [4, 24], "neural": [4, 8, 11, 13, 16, 18, 24], "iclr": [4, 24], "pham": [4, 24], "approach": [4, 10, 11, 12, 16], "emnlp": [4, 24], "preliminari": [5, 7], "wiki_103": 5, "prepare_wikitext": 5, "103_data": 5, "wikitext103": 5, "shuffl": [5, 12, 21], "chmod": [5, 7], "snippet": 5, "40000": 5, "symbol": 5, "won": 5, "inde": 5, "aggress": 5, "joiner_annot": 5, "preserve_placehold": 5, "case_markup": 5, "soft_case_region": 5, "preserve_segmented_token": 5, "n_symbol": 5, "tokenizer_default": 5, "learner": 5, "bpelearn": 5, "ingest_fil": 5, "raw": [5, 8, 11, 16, 18, 22], "data_fil": 5, "tokenize_fil": 5, "explain": 5, "therefor": 5, "wikitext": 5, "observ": 5, "built": [5, 10, 11, 14, 16], "tansform": 5, "gpt": [5, 14], "unsupervis": 5, "multitask": 5, "block": [5, 18, 22], "mention": [5, 12], "slide": 5, "plai": 5, "role": 5, "model_task": [5, 21], "transformer_lm": [5, 21], "launch": 5, "tensorboard": [5, 14, 21], "monitor": 5, "perplex": [5, 12, 14], "trigger": [5, 14], "head": [5, 7, 8, 12, 16, 21, 23], "lm_input": 5, "proce": 5, "top": [5, 10, 11, 16, 18, 22], "nucleu": [5, 22], "lowest": [5, 12], "lm_step_1000000": 5, "lm_pred_input": 5, "random_sampling_topp": [5, 18, 22], "org": [6, 13, 21, 22, 24], "start": [6, 14, 15, 17, 18, 19, 21, 23], "pip3": 6, "torchvis": [6, 10], "torchaudio": [6, 11], "highli": 6, "perform": [6, 8, 12, 14, 16, 22], "disabl": [6, 12], "global": [6, 12, 14, 16], "cpp_ext": [6, 14], "cuda_ext": [6, 14], "deprecated_fused_adam": 6, "xentropi": 6, "fast_multihead_attn": 6, "edit": 6, "english": [6, 7, 23], "german": [6, 7, 23], "bash": 6, "prepare_wmt_ende_data": 6, "big": [6, 8], "50k": 6, "hour": 6, "rtx": 6, "4090": 6, "python3": 6, "build_vocab": [6, 19], "wmt17_end": 6, "variou": [6, 21], "wmt17_en_d": 6, "bpe": [6, 8, 19, 21, 22], "bigwmt17_step_50000": 6, "trg": 6, "sacrebleu": [6, 7], "40k": 6, "45k": 6, "newstest2016": 6, "signatur": 6, "nref": 6, "eff": 6, "verbose_scor": 6, "bp": 6, "hyp_len": 6, "64244": 6, "ref_len": 6, "64379": 6, "65": 6, "000": 6, "64357": 6, "992": 6, "63885": 6, "sentencepiec": [7, 19, 21, 22], "prepare_wmt_data": 7, "binari": [7, 16], "wmt14_en_d": 7, "commoncrawl": 7, "23": 7, "europarl": 7, "v7": 7, "19": 7, "news_commentari": 7, "commentari": 7, "v11": 7, "wmtend": 7, "150": [7, 10], "silent": [7, 16, 19, 21], "ignor": [7, 16, 19, 21, 22], "skip_empty_level": [7, 15, 19, 21], "whole": [7, 18], "corpora": [7, 8, 15, 21], "keep_checkpoint": [7, 21], "50": [7, 12, 21, 22], "average_decai": [7, 14, 21], "0005": 7, "1234": 7, "report_everi": [7, 12, 21], "100000": [7, 11, 21], "4000": [7, 21], "share_decoder_embed": [7, 12, 21], "testset": 7, "spm_encod": 7, "sp": 7, "model_step": [7, 12], "echo": [7, 12], "basenam": 7, "16384": 7, "hyp_": 7, "done": [7, 12, 18], "note1": 7, "often": [7, 19, 21, 22], "note2": 7, "hypothesi": 7, "spm_decod": 7, "input_format": 7, "piec": 7, "prepar": [8, 9, 14, 18], "break": [8, 12], "tip": 8, "contributor": 8, "guidelin": 8, "pretrain": [8, 13, 16, 21], "glove": [8, 21], "ensembl": [8, 22], "subword": [8, 9], "regular": [8, 9, 14, 19, 21, 22], "purpos": [8, 23], "bart": 8, "switchout": [8, 24], "lora": [8, 21], "finetun": 8, "while": [8, 12, 16], "supervis": [8, 16, 21], "server": [8, 21], "ii": 8, "docker": 8, "iii": 8, "iv": 8, "wiki": [8, 21], "103": 8, "summar": [8, 23, 24], "cnn": [8, 11, 12, 14, 21], "dm": 8, "gate": [8, 16, 21], "graph": [8, 16, 21], "quick": 8, "acknowledg": 8, "uppercas": 8, "onmttok": 8, "token_drop": 8, "token_mask": 8, "prefix": [8, 14], "suffix": 8, "reproduc": [8, 12], "prune": 8, "trick": [8, 14, 16], "effici": [8, 14, 24], "framework": [8, 21], "strategi": [8, 15], "loader": 8, "faq": [8, 23], "speech": 8, "embeddings_to_torch": 9, "ylhsieh": 9, "one2": 9, "usag": [9, 19, 20, 21, 22], "emb_file_both": 9, "emb_file_enc": 9, "emb_file_dec": 9, "output_fil": 9, "dict_fil": 9, "skip_lin": 9, "usagecomplet": 9, "info": [9, 15, 21, 22], "onmt_preprocess": [9, 10, 11, 12], "train_src": [9, 10, 11, 12], "train_tgt": [9, 10, 11, 12], "valid_src": [9, 10, 11, 12], "valid_tgt": [9, 10, 11, 12], "pre_word_vecs_enc": [9, 21], "enc": [9, 21], "pre_word_vecs_dec": [9, 21], "dec": [9, 16, 21], "bunch": 9, "tmp": 9, "de2": 9, "max_generator_batch": 9, "model1": 9, "seed1": 9, "model2": 9, "seed2": 9, "train_id": 9, "from_backtransl": 9, "my_data": 9, "dump": [9, 19, 21, 22, 23], "train_a": 9, "train_b": 9, "data_id": 9, "data_weight": 9, "mani": [9, 12, 14, 18, 21], "shard_siz": [9, 10, 11, 12], "train_align": 9, "valid_align": 9, "context": [9, 16, 19, 21, 22], "mask": [9, 16, 19, 21, 22], "deep": [10, 11], "driven": 10, "varieti": 10, "caption": [10, 12], "optic": 10, "recognit": 10, "latex": [10, 11], "decompil": 10, "formula": 10, "goal": 10, "compil": 10, "frac": 10, "delta": 10, "cdot": 10, "visual": [10, 21, 23], "markup": 10, "technic": [10, 13], "conda": 10, "pillow": 10, "math": 10, "im2text": 10, "tgz": [10, 11], "sea": [10, 11], "harvard": [10, 11], "im2text_smal": 10, "tar": [10, 11, 12, 23], "zxf": [10, 11], "data_typ": [10, 11, 12, 15, 18, 21, 22], "img": 10, "src_dir": [10, 11, 12], "demo": [10, 11, 23], "tgt_words_min_frequ": [10, 21], "500": [10, 12, 21, 23], "image_channel_s": 10, "model_typ": [10, 11, 12, 21], "80": 10, "model_acc_x_ppl_x_e13": [10, 11], "max_length": [10, 12, 18, 22], "im2latex": 10, "100k": 10, "shall": [10, 11], "label0_token0": [10, 11], "label0_token1": [10, 11], "label0_tokenn0": [10, 11], "label1_token0": [10, 11], "label1_token1": [10, 11], "label1_tokenn1": [10, 11], "label2_token0": [10, 11], "label2_token1": [10, 11], "label2_tokenn2": [10, 11], "image0_path": 10, "image1_path": 10, "image2_path": 10, "fourier": 11, "stft": 11, "convolut": [11, 16, 24], "sudo": 11, "apt": 11, "sox": 11, "libsox": 11, "dev": [11, 12], "fmt": 11, "librosa": 11, "an4_dataset": 11, "300": 11, "audio_enc_pool": 11, "0003": 11, "speech0_path": 11, "speech1_path": 11, "speech2_path": 11, "sample_r": 11, "16000": 11, "window_s": 11, "spectrogram": 11, "window_strid": 11, "ham": 11, "our": [11, 12, 13, 18], "deepspeech": 11, "exploit": 12, "tempor": 12, "youtubeclip": 12, "xvf": 12, "decompress": 12, "archiv": 12, "youtube2text": 12, "throw": 12, "awai": 12, "googlenet": 12, "youtube2text_iccv15": 12, "yt2t": 12, "vid": 12, "avi": 12, "pickl": 12, "yt": 12, "ytc": 12, "youtub": 12, "hash": 12, "join": 12, "dict_youtube_map": 12, "pkl": 12, "rb": 12, "yt2vid": 12, "latin": 12, "listdir": 12, "hashi": 12, "ext": 12, "splitext": 12, "fpath_old": 12, "f_new": 12, "fpath_new": 12, "low": 12, "framer": 12, "fi": 12, "ffmpeg": 12, "frame": 12, "environ": 12, "variabl": [12, 15, 18], "y2t2": 12, "back": [12, 14], "pwd": 12, "img_feature_extractor": 12, "restrict": [12, 19, 21, 22], "pythonpath": 12, "vid_feature_extractor": 12, "root_dir": 12, "out_dir": 12, "r152": 12, "count": [12, 14, 15, 18, 19, 21, 22], "equal": [12, 18, 21], "1970": 12, "wc": 12, "rerun": 12, "miss": 12, "unexpect": 12, "behavior": 12, "issu": 12, "turn": [12, 16, 21], "associ": 12, "flatten": 12, "filenam": [12, 21], "skip": [12, 19, 21], "ann": 12, "vid2ann": 12, "vid_nam": 12, "item": [12, 15, 16], "keyerror": 12, "train_fil": 12, "yt2t_train_fil": 12, "val_fil": 12, "yt2t_val_fil": 12, "val_fold": 12, "yt2t_val_folded_fil": 12, "test_fil": 12, "yt2t_test_fil": 12, "train_cap": 12, "yt2t_train_cap": 12, "val_cap": 12, "yt2t_val_cap": 12, "vid_path": 12, "npy": 12, "enumer": 12, "newlin": 12, "split_nam": 12, "write": [12, 14], "elif": 12, "assert": 12, "small": [12, 23], "manag": [12, 14], "0001": 12, "model_step_7200": 12, "7200": 12, "frequenc": [12, 19, 21, 22], "coco": 12, "predict": [12, 18, 21, 22, 23], "fork": 12, "flaut": 12, "url": [12, 13, 24], "pprint": 12, "pycocoevalcap": 12, "meteor": 12, "cider": 12, "spice": 12, "__name__": 12, "__main__": 12, "scorer": [12, 18], "gt": 12, "outp": 12, "vid_id": 12, "all_scor": 12, "compute_scor": 12, "isinst": 12, "sc": 12, "bleu1": 12, "7888553878084233": 12, "bleu2": 12, "6729376621109295": 12, "bleu3": 12, "5778428507344473": 12, "bleu4": 12, "47633625833397897": 12, "7122415518428051": 12, "31829562714082704": 12, "6811305229481235": 12, "044147089472463576": 12, "stack": [12, 16, 21], "against": 12, "row": 12, "tabl": [12, 16, 22], "4028": 12, "2900": 12, "4801": 12, "downsampl": 12, "26": [12, 24], "240": 12, "fp": 12, "resnet": 12, "lowercas": 12, "tvt": 12, "view": 12, "msvd": 12, "yt2t_2": 12, "untar": 12, "subssampl": 12, "extract": 12, "reprocess": 12, "2345": 12, "maketran": 12, "whitespac": 12, "train_data": 12, "val_data": 12, "test_data": 12, "datum": 12, "prompt": 12, "model_step_": 12, "7000": 12, "estim": [12, 14], "epoch": 12, "world": 12, "scale": [12, 14, 16, 18, 21], "accordingli": 12, "earli": [12, 14, 21], "stop": [12, 14, 19, 21, 22], "find_val_stop": 12, "test_early_stop": 12, "process_result": 12, "argpars": [12, 17], "defaultdict": 12, "panda": 12, "pd": 12, "load_result": 12, "fname": 12, "junk": 12, "score_lin": 12, "metric": [12, 14, 21, 22], "score_num": 12, "float": [12, 14, 16, 18], "endswith": 12, "df": 12, "datafram": 12, "find_absolute_stop": 12, "idxmax": 12, "find_early_stop": 12, "stop_count": 12, "count_since_max": 12, "ended_metr": 12, "iterrow": 12, "seri": 12, "find_stop": 12, "argumentpars": 12, "locat": 12, "best": [12, 18, 22], "add_argu": 12, "wors": 12, "parse_arg": 12, "idx": 12, "iteritem": 12, "print": [12, 14, 21, 22], "loc": 12, "touch": 12, "1v": 12, "null": [12, 23], "val_stop": 12, "test_result": 12, "IFS": 12, "awk": 12, "nf": 12, "tee": 12, "cat": 12, "thu": [12, 14], "2000": 12, "took": 12, "522": 12, "testlen": 12, "3410": 12, "reflen": 12, "3417": 12, "guess": 12, "2740": 12, "2070": 12, "1400": 12, "2664": 12, "1562": 12, "887": 12, "386": 12, "9979514193734276": 12, "7796296150773093": 12, "6659837622637965": 12, "5745524496015597": 12, "4779574102543823": 12, "7541600090591118": 12, "3259497476899707": 12, "6800279518634998": 12, "046435637924854": 12, "72": 12, "11": 12, "24m": 12, "perhap": 12, "residu": [12, 16], "altern": [12, 16], "9861": 12, "fewer": 12, "give": [12, 21, 22], "overal": 12, "nearli": 12, "favor": 12, "portal": 13, "packag": [13, 17], "readi": 13, "go": [13, 18, 19, 21, 23], "familiar": 13, "yourself": 13, "research": 13, "guillaum": 13, "klein": 13, "yoon": 13, "kim": 13, "jean": 13, "senellart": 13, "proc": [13, 24], "doi": [13, 24], "18653": 13, "p17": 13, "4012": 13, "gitter": 13, "channel": [13, 16], "basemodel": 14, "encoderbas": [14, 16], "decoderbas": [14, 16], "forward": [14, 16, 21], "src_len": [14, 16, 18], "bptt": [14, 21], "with_align": 14, "propag": 14, "pad": [14, 16, 18], "longtensor": [14, 16, 18], "tgt_len": [14, 16], "boolean": [14, 18], "init": [14, 16, 21], "floattensor": [14, 16, 18], "nmtmodel": [14, 16], "count_paramet": 14, "callback": 14, "enc_out": [14, 16, 18], "exclud": 14, "initiliaz": 14, "enc_final_h": [14, 16], "languagemodel": 14, "transformerlmdecod": 14, "train_loss": 14, "valid_loss": 14, "scoring_prepar": 14, "train_scor": 14, "valid_scor": 14, "trunc_siz": 14, "norm_method": 14, "sent": [14, 15, 21, 22], "train_eval_step": [14, 21], "report_manag": 14, "model_sav": 14, "average_everi": [14, 21], "fp32": [14, 21, 22], "earlystopp": 14, "util": 14, "losscomputebas": 14, "scoringprepar": 14, "calcul": [14, 16, 18, 21], "training_eval_handl": 14, "respons": 14, "accum": [14, 15], "ordin": 14, "rank": [14, 18, 21], "reportmgrbas": 14, "lear": 14, "modelsaverbas": 14, "saver": 14, "earlystop": 14, "mecan": 14, "ff": [14, 16], "dropaout": 14, "schedul": 14, "train_it": 14, "valid_it": 14, "loop": 14, "possibli": [14, 16], "nmt": [14, 18, 21], "moving_averag": [14, 21], "n_batch": 14, "n_sent": 14, "n_word": 14, "n_correct": 14, "computed_metr": 14, "accuraci": [14, 18], "elaps": 14, "static": [14, 21], "all_gather_stat": 14, "max_siz": 14, "accross": 14, "buffer": [14, 21], "all_gather_stats_list": 14, "stat_list": 14, "our_stat": 14, "elapsed_tim": 14, "log_tensorboard": 14, "writer": 14, "patienc": 14, "displai": 14, "num_step": 14, "stdout": 14, "ppl": 14, "update_n_src_word": 14, "sume": 14, "n_src_word": 14, "xent": 14, "cross": [14, 16, 21], "entropi": 14, "losscomput": 14, "criterion": 14, "lambda_coverag": [14, 21], "tgt_shift_index": 14, "lm_gener": 14, "lm_prior_lambda": [14, 21], "lm_prior_tau": [14, 21], "lm_prior_model": [14, 21], "nlloss": 14, "off": [14, 21], "hyper": 14, "param": 14, "scaler": 14, "attn": [14, 16, 18, 22], "trunc_start": 14, "approxim": [14, 21], "reliev": 14, "tupl": [14, 16], "from_opt": [14, 15, 16], "subclass": [14, 16, 18], "wrap": [14, 17], "nllloss": 14, "relev": [14, 16, 18], "learning_rate_decay_fn": 14, "mostli": 14, "thin": 14, "grad": 14, "callabl": [14, 18], "factor": 14, "clip": 14, "properti": [14, 16], "amp": [14, 21], "precis": 14, "backward": 14, "ownership": 14, "emploi": 14, "training_step": 14, "zero_grad": 14, "set_to_non": 14, "zero": [14, 16, 18, 21, 22], "adafactor": [14, 21], "lr": 14, "beta1": [14, 21], "beta2": [14, 21], "999": [14, 21], "eps1": 14, "1e": [14, 16, 21], "eps2": 14, "001": [14, 21], "cliping_threshold": 14, "non_constant_decai": 14, "enable_factor": 14, "ams_grad": 14, "weight_decai": 14, "closur": 14, "reevalu": 14, "unless": 14, "otherwis": [14, 21, 22], "fusedadam": [14, 21], "bias_correct": 14, "ep": [14, 16], "08": 14, "eps_inside_sqrt": 14, "amsgrad": 14, "apex": [14, 21], "coeffici": 14, "squar": 14, "denomin": 14, "l2": 14, "variant": 14, "converg": [14, 23], "NOT": 14, "moment": [14, 21], "root": 14, "output_param": 14, "grad_norm": 14, "half": 14, "dynamicdatasetit": 15, "corpora_info": 15, "offset": 15, "iterabledataset": 15, "plain": 15, "corpustask": 15, "multipli": 15, "increment": [15, 21], "secur": [15, 19, 21], "encout": [15, 19, 21], "sort_kei": 15, "mixer": 15, "mixingstrategi": 15, "batch_it": 15, "chunk": 15, "initil": 15, "sequentialmix": 15, "exhaust": 15, "weightedmix": 15, "weightedli": 15, "infinit": 15, "parallelcorpusiter": 15, "transformpip": 15, "word_vocab_s": 16, "word_padding_idx": 16, "position_encoding_typ": [16, 21], "sinusoidalinterleav": [16, 21], "feat_padding_idx": 16, "feat_vocab_s": 16, "spars": 16, "freeze_word_vec": 16, "abil": 16, "linguist": [16, 24], "sh16": [16, 24], "positionalencod": 16, "action": [16, 18, 21], "feat_dim_expon": 16, "embbed": 16, "emb_lut": 16, "nfeat": 16, "embedding_s": 16, "load_pretrained_vector": 16, "emb_fil": 16, "serial": 16, "word_lut": 16, "dim": 16, "enc_typ": 16, "max_len": 16, "vsp": [16, 24], "seq_len": [16, 18], "nonetyp": [16, 18], "stepwis": 16, "position_ffn": 16, "positionwisefeedforward": [16, 21], "d_model": 16, "d_ff": 16, "activation_fn": 16, "relu": [16, 21], "feed": [16, 21], "ffn": [16, 21], "fnn": 16, "activationfunct": 16, "activ": [16, 21], "input_len": 16, "model_dim": 16, "2x": 16, "num_lay": 16, "transformerencod": 16, "pos_ffn_activation_fn": [16, 21], "inner": 16, "rnnencod": 16, "use_bridg": 16, "gru": [16, 21], "sru": [16, 21], "ggnnencod": 16, "autocr": 16, "cnnencod": 16, "cnn_kernel_width": [16, 21], "gag": [16, 24], "meanencod": 16, "trivial": 16, "simpli": [16, 23], "pool": 16, "transformerdecod": 16, "self_attn_typ": [16, 21], "aan_useffn": [16, 21], "transformerdecoderbas": 16, "context_attn": 16, "distanc": [16, 21], "aan": [16, 21], "guid": 16, "tlen": 16, "feat": [16, 17, 19, 21, 22], "slen": 16, "rnndecoderbas": 16, "bidirectional_encod": 16, "attn_typ": 16, "attn_func": 16, "softmax": [16, 21, 22], "coverage_attn": [16, 21], "context_g": [16, 21], "copy_attn_typ": [16, 21], "globalattent": 16, "contextg": 16, "dec_out": 16, "init_st": 16, "stdrnndecod": 16, "fulli": 16, "cudnn": 16, "By": [16, 24], "bcb14": [16, 24], "input_feed": 16, "inputfeedrnndecod": 16, "lpm15": [16, 24], "cnndecod": 16, "convmultistepattent": 16, "enc_hidden": 16, "matrix": [16, 21], "queri": [16, 21], "parameter": 16, "convex": 16, "combin": [16, 22], "construct": 16, "sum_": 16, "seqlength": 16, "a_j": 16, "h_j": 16, "w_a": 16, "v_a": 16, "tanh": 16, "u_a": 16, "sparsemax": [16, 21], "yet": [16, 18], "distribtut": 16, "h_t": 16, "h_": 16, "unnorm": 16, "multiheadedattent": 16, "head_count": 16, "simulatan": 16, "select": [16, 18, 21], "divis": 16, "key_len": 16, "query_len": 16, "averageattent": 16, "acceler": [16, 24], "zxs18": [16, 24], "layer_in": 16, "t_len": 16, "gating_out": 16, "average_out": 16, "input_s": 16, "conv": [16, 21], "oper": 16, "apply_mask": 16, "base_target_emb": 16, "input_from_dec": 16, "encoder_out_top": 16, "encoder_out_combin": 16, "height": 16, "width": 16, "calc": 16, "copygener": 16, "output_s": 16, "pad_idx": 16, "slm17": [16, 24], "three": 16, "p_": 16, "tgt_dict": 16, "z": 16, "probil": 16, "taken": 16, "src_map": [16, 18], "impli": 16, "extra_word": 16, "structured_attent": 16, "matrixtre": 16, "tree": 16, "theorem": 16, "margin": 16, "ll17": [16, 24], "overridden": 16, "recip": 16, "within": [16, 17], "afterward": 16, "former": 16, "care": 16, "regist": 16, "hook": 16, "latter": 16, "translation_serv": 17, "servermodel": 17, "preprocess_opt": 17, "tokenizer_opt": 17, "postprocess_opt": 17, "custom_opt": 17, "features_opt": 17, "processu": 17, "postprocess": 17, "func": [17, 18], "do_timeout": 17, "neg": [17, 21], "build_token": 17, "attr": 17, "on_timemout": 17, "maybe_convert_align": 17, "correspand": 17, "maybe_detoken": 17, "maybe_detokenize_with_align": 17, "seper": 17, "maybe_postprocess": 17, "maybe_preprocess": 17, "maybe_token": 17, "maybe_transform_feat": 17, "raw_src": 17, "tok_src": 17, "inferfeatstransform": 17, "parse_opt": 17, "namespac": 17, "rebuild_seg_packag": 17, "all_preprocess": 17, "rebuild": 17, "segment": [17, 19, 21, 22], "n_seg": 17, "to_gpu": 17, "tokenizer_mark": 17, "marker": 17, "servermodelerror": 17, "timer": 17, "translationserv": 17, "clone_model": 17, "list_model": 17, "load_model": 17, "model_kwarg": 17, "preload_model": 17, "preload": 17, "intern": 17, "datastructur": 17, "lua": 17, "config_fil": 17, "unload_model": 17, "cancel": 17, "src_raw": 18, "pred_sent": 18, "pred_scor": 18, "tgt_sent": 18, "gold_scor": 18, "word_align": 18, "prob": 18, "gold_sent": 18, "sent_numb": 18, "random_sampling_topk": [18, 22], "random_sampling_temp": [18, 22], "dump_beam": [18, 22], "frozenset": 18, "replace_unk": [18, 22], "ban_unk_token": [18, 22], "phrase_t": [18, 22], "report_tim": [18, 22], "global_scor": 18, "out_fil": 18, "report_scor": 18, "logger": 18, "with_scor": [18, 22], "translate_batch": 18, "attn_debug": [18, 22], "translationbuild": 18, "underli": 18, "address": 18, "rare": 18, "lsl": [18, 24], "unknown": 18, "decodestrategi": 18, "bo": [18, 19, 21], "eo": 18, "parallel_path": 18, "exclusion_token": 18, "return_attent": 18, "magic": 18, "shortest": 18, "begin": 18, "longest": 18, "presum": 18, "cutoff": 18, "forbidden": 18, "hold": 18, "inp_seq_len": 18, "inp": 18, "seq": 18, "alive_seq": 18, "grow": 18, "axi": 18, "is_finish": 18, "bytetensor": 18, "alive_attn": 18, "target_prefix": 18, "prefix_seq_len": 18, "log_prob": 18, "ngram": [18, 22], "thant": 18, "onc": [18, 21], "wai": 18, "maintain": 18, "put": 18, "lead": 18, "complex": [18, 23], "wherea": [18, 21], "never": 18, "ingredi": 18, "maybe_update_forbidden_token": 18, "reorder": 18, "forbidden_token": 18, "maybe_update_target_prefix": 18, "select_index": 18, "aliv": 18, "logit": [18, 22], "vocab_s": [18, 21], "update_finish": 18, "attribut": 18, "beamsearch": 18, "beamsearchbas": 18, "seq2seq": [18, 21], "greedy_search": 18, "sample_with_temperatur": 18, "sampling_temp": 18, "keep_topk": 18, "keep_topp": 18, "randomli": 18, "categor": 18, "categori": 18, "inf": 18, "logsumexp": 18, "potenti": [18, 23], "chosen": 18, "until": [18, 22], "cumul": [18, 22], "greater": 18, "condit": [18, 21, 22], "topk_id": 18, "topk_scor": 18, "essenti": 18, "greedysearch": 18, "either": [18, 21], "event": 18, "reach": 18, "gnmtglobalscor": 18, "penaltybuild": 18, "cov_pen": 18, "length_pen": 18, "pen": 18, "cov": 18, "has_cov_pen": 18, "op": 18, "isn": 18, "forc": [18, 22], "has_len_pen": 18, "coverage_non": 18, "coverage_summari": 18, "coverage_wu": 18, "gnmt": 18, "wsc": [18, 24], "almost": [18, 21], "length_averag": 18, "cur_len": 18, "length_non": 18, "unmodifi": 18, "length_wu": 18, "save_config": [19, 21, 22], "dump_sampl": 19, "num_thread": 19, "vocab_sample_queue_s": 19, "decoder_start_token": [19, 21], "src_subword_vocab": [19, 21, 22], "tgt_subword_vocab": [19, 21, 22], "src_vocab_threshold": [19, 21, 22], "tgt_vocab_threshold": [19, 21, 22], "spacer": [19, 21, 22], "encount": [19, 21], "rais": [19, 21], "fuzzi": [19, 21, 22], "rotat": [19, 21, 22], "percentag": [19, 21, 22], "fraction": [19, 21, 22], "unigram": [19, 21, 22], "earlier": [19, 21, 22], "tau": [19, 21, 22], "wpdn18": [19, 21, 22, 24], "smaller": [19, 21, 22], "divers": [19, 21, 22], "inlin": [19, 21, 22], "ph_": [19, 21, 22], "_beg": [19, 21, 22], "_end": [19, 21, 22], "_std": [19, 21, 22], "192": [19, 21, 22], "prepend": [19, 21, 22], "debug": [20, 21, 22], "dump_transform": [21, 23], "src_words_min_frequ": 21, "sinusoidalconcat": 21, "freeze_encod": 21, "freeze_decod": 21, "gelu": 21, "input_fe": 21, "global_attention_funct": 21, "generator_funct": 21, "copy_attn_forc": 21, "loss_scal": 21, "apex_opt_level": 21, "o0": 21, "o1": 21, "o2": 21, "o3": 21, "gpu_backend": 21, "gpu_verbose_level": 21, "keep_stat": 21, "single_pass": 21, "early_stop": 21, "early_stopping_criteria": 21, "adadelta": 21, "sparseadam": 21, "truncated_decod": 21, "adam_beta1": 21, "decay_step": 21, "noamwd": 21, "rsqrt": 21, "log_fil": [21, 22], "log_file_level": [21, 22], "critic": [21, 22], "notset": [21, 22], "train_metr": 21, "valid_metr": 21, "scoring_debug": 21, "dump_pr": 21, "exp_host": 21, "tensorboard_log_dir": 21, "override_opt": 21, "disk": 21, "32768": 21, "discard": 21, "sin": 21, "mark": 21, "interleav": 21, "feat_merge_s": 21, "experiment": 21, "kernel_s": 21, "dict_kei": 21, "autogener": 21, "dotprod": 21, "pdf": 21, "1803": 21, "02155": 21, "mhanot": 21, "proj": 21, "garg": 21, "2019": 21, "ab": [21, 22, 24], "1909": 21, "02074": 21, "leav": 21, "lambda_prior_lambda": 21, "lambda_prior_tau": 21, "opt_level": 21, "io": 21, "_n": 21, "backend": 21, "nccl": 21, "localhost": 21, "ex": 21, "2106": 21, "09685": 21, "successfulli": 21, "thumb": 21, "uniform": 21, "xavier_uniform": 21, "state_dict": 21, "resett": 21, "readm": 21, "criteria": 21, "mirror": 21, "initial_accumulator_valu": 21, "literatur": 21, "seemingli": 21, "discourag": 21, "consider": 21, "adopt": 21, "kera": 21, "www": 21, "api_doc": 21, "tf": 21, "adamoptim": 21, "recent": 21, "epsilon": 21, "1512": 21, "00567": 21, "marian": 21, "aclweb": 21, "anthologi": 21, "p18": 21, "4020": 21, "exponenti": 21, "wikipedia": 21, "update_learning_r": 21, "gone": 21, "warmup": 21, "under": [21, 22], "crayon": 21, "pick": 21, "awith": 21, "mini": 21, "refil": 21, "int8": 22, "avg_raw_prob": 22, "align_debug": 22, "gtx1080": 22, "ti": 22, "quantiz": 22, "whose": [22, 23], "learnt": 22, "1904": 22, "09751": 22, "minimum": 22, "250": 22, "repetit": 22, "had": 22, "highest": 22, "proba": 22, "upgrad": 23, "tuto": 23, "yasmin": 23, "moslem": 23, "propos": 23, "10k": 23, "s3": 23, "amazonaw": 23, "trainingdata": 23, "gz": 23, "xf": 23, "5k": 23, "nation": 23, "bureaucraci": 23, "parliament": 23, "apo": 23, "legisl": 23, "prerog": 23, "void": 23, "provis": 23, "extent": 23, "laid": 23, "feder": 23, "senior": 23, "instructor": 23, "italian": 23, "aerob": 23, "fit": 23, "postur": 23, "gym": 23, "stretch": 23, "pilat": 23, "2004": 23, "he": 23, "collabor": 23, "antich": 23, "person": 23, "toy_en_d": 23, "simplest": 23, "dump_field": 23, "simplifi": 23, "inspect": 23, "advand": 23, "model_step_1000": 23, "pred_1000": 23, "terribl": 23, "million": 23, "dzmitri": 24, "kyunghyun": 24, "yoshua": 24, "1409": 24, "0473": 24, "0473v3": 24, "1146": 24, "annurev": 24, "neuro": 24, "041002": 24, "131047": 24, "jona": 24, "gehr": 24, "michael": 24, "auli": 24, "david": 24, "grangier": 24, "deni": 24, "yarat": 24, "yann": 24, "dauphin": 24, "1705": 24, "03122": 24, "yang": 24, "mirella": 24, "lapata": 24, "09207": 24, "minh": 24, "thang": 24, "hieu": 24, "christoph": 24, "ffectiv": 24, "pproach": 24, "ttention": 24, "eural": 24, "achin": 24, "ranslat": 24, "ilya": 24, "sutskev": 24, "quoc": 24, "le": 24, "oriol": 24, "wojciech": 24, "zaremba": 24, "ddress": 24, "ord": 24, "roblem": 24, "abigail": 24, "peter": 24, "1704": 24, "04368": 24, "rico": 24, "sennrich": 24, "barri": 24, "haddow": 24, "preprint": 24, "1606": 24, "02892": 24, "2016": 24, "ashish": 24, "vaswani": 24, "shazeer": 24, "niki": 24, "parmar": 24, "jakob": 24, "uszkoreit": 24, "llion": 24, "jone": 24, "aidan": 24, "gomez": 24, "lukasz": 24, "kaiser": 24, "illia": 24, "polosukhin": 24, "1706": 24, "03762": 24, "xinyi": 24, "wang": 24, "zihang": 24, "graham": 24, "neubig": 24, "1808": 24, "07512": 24, "yonghui": 24, "mike": 24, "schuster": 24, "zhifeng": 24, "chen": 24, "mohammad": 24, "norouzi": 24, "wolfgang": 24, "macherei": 24, "maxim": 24, "krikun": 24, "yuan": 24, "cao": 24, "qin": 24, "gao": 24, "klau": 24, "gap": 24, "human": 24, "1609": 24, "08144": 24, "biao": 24, "zhang": 24, "deyi": 24, "xiong": 24, "jinsong": 24, "su": 24, "1805": 24, "00631": 24}, "objects": {"onmt": [[14, 0, 1, "", "Trainer"]], "onmt.Trainer": [[14, 1, 1, "", "train"], [14, 1, 1, "", "validate"]], "onmt.decoders": [[16, 0, 1, "", "CNNDecoder"], [16, 0, 1, "", "DecoderBase"], [16, 0, 1, "", "InputFeedRNNDecoder"], [16, 0, 1, "", "StdRNNDecoder"], [16, 0, 1, "", "TransformerDecoder"]], "onmt.decoders.CNNDecoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"], [16, 1, 1, "", "init_state"]], "onmt.decoders.DecoderBase": [[16, 1, 1, "", "from_opt"]], "onmt.decoders.TransformerDecoder": [[16, 1, 1, "", "forward"]], "onmt.decoders.decoder": [[16, 0, 1, "", "RNNDecoderBase"]], "onmt.decoders.decoder.RNNDecoderBase": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"], [16, 1, 1, "", "init_state"]], "onmt.encoders": [[16, 0, 1, "", "CNNEncoder"], [16, 0, 1, "", "EncoderBase"], [16, 0, 1, "", "GGNNEncoder"], [16, 0, 1, "", "MeanEncoder"], [16, 0, 1, "", "RNNEncoder"], [16, 0, 1, "", "TransformerEncoder"]], "onmt.encoders.CNNEncoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"]], "onmt.encoders.EncoderBase": [[16, 1, 1, "", "forward"]], "onmt.encoders.GGNNEncoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"]], "onmt.encoders.MeanEncoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"]], "onmt.encoders.RNNEncoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"]], "onmt.encoders.TransformerEncoder": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "from_opt"]], "onmt.inputters": [[15, 0, 1, "", "DynamicDatasetIter"], [15, 0, 1, "", "MixingStrategy"], [15, 0, 1, "", "ParallelCorpus"], [15, 0, 1, "", "ParallelCorpusIterator"], [15, 0, 1, "", "SequentialMixer"], [15, 0, 1, "", "WeightedMixer"]], "onmt.inputters.DynamicDatasetIter": [[15, 1, 1, "", "batch_iter"], [15, 1, 1, "", "from_opt"]], "onmt.inputters.ParallelCorpus": [[15, 1, 1, "", "load"]], "onmt.models": [[14, 0, 1, "", "BaseModel"], [14, 0, 1, "", "LanguageModel"], [14, 0, 1, "", "NMTModel"]], "onmt.models.BaseModel": [[14, 1, 1, "", "forward"]], "onmt.models.LanguageModel": [[14, 1, 1, "", "count_parameters"], [14, 1, 1, "", "forward"]], "onmt.models.NMTModel": [[14, 1, 1, "", "count_parameters"], [14, 1, 1, "", "forward"]], "onmt.modules": [[16, 0, 1, "", "AverageAttention"], [16, 0, 1, "", "ConvMultiStepAttention"], [16, 0, 1, "", "CopyGenerator"], [16, 0, 1, "", "Embeddings"], [16, 0, 1, "", "GlobalAttention"], [16, 0, 1, "", "MultiHeadedAttention"], [16, 0, 1, "", "PositionalEncoding"]], "onmt.modules.AverageAttention": [[16, 1, 1, "", "forward"]], "onmt.modules.ConvMultiStepAttention": [[16, 1, 1, "", "apply_mask"], [16, 1, 1, "", "forward"]], "onmt.modules.CopyGenerator": [[16, 1, 1, "", "forward"]], "onmt.modules.Embeddings": [[16, 2, 1, "", "emb_luts"], [16, 1, 1, "", "forward"], [16, 1, 1, "", "load_pretrained_vectors"], [16, 2, 1, "", "word_lut"]], "onmt.modules.GlobalAttention": [[16, 1, 1, "", "forward"], [16, 1, 1, "", "score"]], "onmt.modules.MultiHeadedAttention": [[16, 1, 1, "", "forward"]], "onmt.modules.PositionalEncoding": [[16, 1, 1, "", "forward"]], "onmt.modules.position_ffn": [[16, 0, 1, "", "PositionwiseFeedForward"]], "onmt.modules.position_ffn.PositionwiseFeedForward": [[16, 1, 1, "", "forward"]], "onmt.modules.structured_attention": [[16, 0, 1, "", "MatrixTree"]], "onmt.modules.structured_attention.MatrixTree": [[16, 1, 1, "", "forward"]], "onmt.translate": [[18, 0, 1, "", "BeamSearch"], [18, 0, 1, "", "DecodeStrategy"], [18, 0, 1, "", "GNMTGlobalScorer"], [18, 0, 1, "", "GreedySearch"], [18, 0, 1, "", "Translation"], [18, 0, 1, "", "TranslationBuilder"], [18, 0, 1, "", "Translator"]], "onmt.translate.BeamSearch": [[18, 1, 1, "", "initialize"]], "onmt.translate.DecodeStrategy": [[18, 1, 1, "", "advance"], [18, 1, 1, "", "block_ngram_repeats"], [18, 1, 1, "", "initialize"], [18, 1, 1, "", "maybe_update_forbidden_tokens"], [18, 1, 1, "", "maybe_update_target_prefix"], [18, 1, 1, "", "target_prefixing"], [18, 1, 1, "", "update_finished"]], "onmt.translate.GreedySearch": [[18, 1, 1, "", "advance"], [18, 1, 1, "", "initialize"], [18, 1, 1, "", "update_finished"]], "onmt.translate.Translation": [[18, 1, 1, "", "log"]], "onmt.translate.Translator": [[18, 1, 1, "", "translate_batch"]], "onmt.translate.greedy_search": [[18, 3, 1, "", "sample_with_temperature"]], "onmt.translate.penalties": [[18, 0, 1, "", "PenaltyBuilder"]], "onmt.translate.penalties.PenaltyBuilder": [[18, 1, 1, "", "coverage_none"], [18, 1, 1, "", "coverage_summary"], [18, 1, 1, "", "coverage_wu"], [18, 1, 1, "", "length_average"], [18, 1, 1, "", "length_none"], [18, 1, 1, "", "length_wu"]], "onmt.translate.translation_server": [[17, 0, 1, "", "ServerModel"], [17, 4, 1, "", "ServerModelError"], [17, 0, 1, "", "Timer"], [17, 0, 1, "", "TranslationServer"]], "onmt.translate.translation_server.ServerModel": [[17, 1, 1, "", "build_tokenizer"], [17, 1, 1, "", "detokenize"], [17, 1, 1, "", "do_timeout"], [17, 1, 1, "", "maybe_convert_align"], [17, 1, 1, "", "maybe_detokenize"], [17, 1, 1, "", "maybe_detokenize_with_align"], [17, 1, 1, "", "maybe_postprocess"], [17, 1, 1, "", "maybe_preprocess"], [17, 1, 1, "", "maybe_tokenize"], [17, 1, 1, "", "maybe_transform_feats"], [17, 1, 1, "", "parse_opt"], [17, 1, 1, "", "postprocess"], [17, 1, 1, "", "preprocess"], [17, 1, 1, "", "rebuild_seg_packages"], [17, 1, 1, "", "to_gpu"], [17, 1, 1, "", "tokenize"], [17, 1, 1, "", "tokenizer_marker"]], "onmt.translate.translation_server.TranslationServer": [[17, 1, 1, "", "clone_model"], [17, 1, 1, "", "list_models"], [17, 1, 1, "", "load_model"], [17, 1, 1, "", "preload_model"], [17, 1, 1, "", "run"], [17, 1, 1, "", "start"], [17, 1, 1, "", "unload_model"]], "onmt.utils": [[14, 0, 1, "", "AdaFactor"], [14, 0, 1, "", "FusedAdam"], [14, 0, 1, "", "Optimizer"], [14, 0, 1, "", "Statistics"]], "onmt.utils.AdaFactor": [[14, 1, 1, "", "step"]], "onmt.utils.FusedAdam": [[14, 1, 1, "", "step"]], "onmt.utils.Optimizer": [[14, 2, 1, "", "amp"], [14, 1, 1, "", "backward"], [14, 1, 1, "", "from_opt"], [14, 1, 1, "", "learning_rate"], [14, 1, 1, "", "step"], [14, 2, 1, "", "training_step"], [14, 1, 1, "", "zero_grad"]], "onmt.utils.Statistics": [[14, 1, 1, "", "accuracy"], [14, 1, 1, "", "all_gather_stats"], [14, 1, 1, "", "all_gather_stats_list"], [14, 1, 1, "", "elapsed_time"], [14, 1, 1, "", "log_tensorboard"], [14, 1, 1, "", "output"], [14, 1, 1, "", "ppl"], [14, 1, 1, "", "update"], [14, 1, 1, "", "xent"]], "onmt.utils.loss": [[14, 0, 1, "", "LossCompute"]], "onmt.utils.loss.LossCompute": [[14, 1, 1, "", "forward"], [14, 1, 1, "", "from_opts"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:property", "3": "py:function", "4": "py:exception"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "property", "Python property"], "3": ["py", "function", "Python function"], "4": ["py", "exception", "Python exception"]}, "titleterms": {"contributor": 0, "guidelin": 0, "docstr": 0, "how": [1, 9], "do": [1, 9], "i": [1, 9], "us": [1, 9], "my": 1, "v2": 1, "model": [1, 4, 5, 7, 9, 14, 17, 21, 22, 23], "v3": 1, "train": [1, 4, 5, 6, 7, 9, 21, 23], "transform": [1, 9, 12, 19, 21, 22], "perform": [1, 2], "tip": [1, 2], "you": [1, 9], "support": [1, 9], "multi": [1, 9], "gpu": [1, 9], "pretrain": [1, 9], "embed": [1, 9, 16, 21], "e": [1, 9], "g": [1, 9], "glove": [1, 9], "exampl": [1, 8, 9], "can": [1, 9], "ensembl": [1, 9], "infer": [1, 4, 9], "weight": [1, 9], "differ": [1, 9], "corpora": [1, 9], "appli": 1, "fly": 1, "token": 1, "subword": [1, 5, 6, 7, 19, 21, 22], "regular": 1, "when": 1, "what": 1, "ar": 1, "readili": 1, "avail": 1, "data": [1, 3, 4, 5, 6, 7, 15, 19, 21, 22, 23], "gener": [1, 5, 21], "purpos": 1, "filter": [1, 19, 21, 22], "length": 1, "add": 1, "custom": 1, "prefix": [1, 19, 21, 22], "suffix": [1, 19, 21, 22], "convert": 1, "uppercas": [1, 19, 21, 22], "normal": [1, 19, 21, 22], "punctuat": 1, "context": 1, "doc": 1, "awar": 1, "augment": 1, "sourc": 1, "segment": 1, "fuzzi": 1, "match": 1, "neural": [1, 3], "repair": 1, "target": 1, "inlin": 1, "tag": 1, "opennmt": [1, 6, 23], "sentencepiec": 1, "bpe": [1, 5], "nmt": [1, 6], "bart": [1, 19, 21, 22], "style": 1, "nois": 1, "switchout": [1, 19, 21, 22], "sampl": [1, 22], "drop": 1, "some": 1, "mask": 1, "creat": 1, "lora": 1, "finetun": 1, "big": 1, "get": [1, 6, 8, 9], "word": [1, 9], "align": [1, 9, 21], "while": [1, 9], "translat": [1, 6, 7, 9, 18, 22, 23], "raw": [1, 9], "from": [1, 9], "averag": [1, 9], "attent": [1, 9, 16, 21], "head": [1, 9], "supervis": [1, 9], "learn": [1, 9], "specif": [1, 5, 9], "updat": 1, "checkpoint": 1, "": 1, "vocabulari": [1, 3, 5, 7], "featur": [1, 19, 21, 22], "set": 1, "up": 1, "server": [1, 17, 20], "work": 1, "configur": [1, 19, 21, 22], "ii": 1, "start": [1, 3, 8, 10, 11], "without": 1, "docker": 1, "0": [1, 5, 7, 23], "code": 1, "1": [1, 5, 7, 23], "instal": [1, 13, 23], "flask": 1, "2": [1, 5, 7, 23], "put": 1, "3": [1, 5, 7, 23], "iii": 1, "iv": 1, "api": [1, 8], "hostnam": 1, "list": 1, "version": [2, 9], "break": 2, "chang": 2, "gate": 3, "graph": 3, "network": 3, "depend": [3, 6, 10, 11], "quick": [3, 10, 11], "format": 3, "note": 3, "option": [3, 10, 11], "acknowledg": [3, 11], "summar": 4, "cnn": 4, "dm": 4, "prepar": [4, 5, 6, 7, 23], "vocab": [4, 19, 21], "evalu": [4, 7], "gigaword": 4, "score": [4, 18], "refer": [4, 24], "languag": 5, "wiki": 5, "103": 5, "step": [5, 7, 23], "download": [5, 7], "clean": 5, "pyonmttok": 5, "build": [5, 7, 19], "command": 5, "4": 5, "output": 5, "wmt17": 6, "en": 6, "de": 6, "pytorch": 6, "apex": 6, "py": [6, 23], "run": 6, "content": 8, "frequent": 8, "ask": 8, "question": 8, "script": 8, "legaci": [8, 9], "faq": 9, "preprocess": 9, "imag": 10, "text": [10, 11, 12], "speech": 11, "video": 12, "recurr": 12, "overview": 13, "citat": 13, "addit": 13, "resourc": 13, "framework": 14, "trainer": 14, "loss": 14, "optim": [14, 21], "loader": 15, "iter": 15, "dataset": 15, "modul": 16, "encod": [16, 21], "decod": [16, 18, 21, 22], "core": 17, "class": 18, "strategi": 18, "docifi": [19, 21, 22], "fuzzymatch": [19, 21, 22], "common": [19, 21, 22], "onmttok": [19, 21, 22], "token_drop": [19, 21, 22], "token_mask": [19, 21, 22], "inferfeat": [19, 21, 22], "inlinetag": [19, 21, 22], "reproduc": [19, 21, 22], "name": 20, "argument": 20, "prune": 21, "task": 21, "initi": 21, "type": 21, "rate": 21, "log": [21, 22], "dynam": 21, "beam": 22, "search": 22, "random": 22, "penalti": 22, "trick": 22, "effici": 22, "quickstart": 23}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinxcontrib.bibtex": 9, "sphinx": 57}, "alltitles": {"Contributors": [[0, "contributors"]], "Guidelines": [[0, "guidelines"]], "Docstrings": [[0, "docstrings"]], "How do I use my v2 models in v3 ?": [[1, "how-do-i-use-my-v2-models-in-v3"]], "How do I train the Transformer model?": [[1, "how-do-i-train-the-transformer-model"]], "Performance tips": [[1, "performance-tips"], [2, "performance-tips"]], "Do you support multi-gpu?": [[1, "do-you-support-multi-gpu"], [9, "do-you-support-multi-gpu"]], "How do I use Pretrained embeddings (e.g. GloVe)?": [[1, "how-do-i-use-pretrained-embeddings-e-g-glove"], [9, "how-do-i-use-pretrained-embeddings-e-g-glove"]], "Example": [[1, "example"], [1, "id1"], [1, "id2"], [1, "id3"], [9, "example"]], "How can I ensemble Models at inference?": [[1, "how-can-i-ensemble-models-at-inference"], [9, "how-can-i-ensemble-models-at-inference"]], "How can I weight different corpora at training?": [[1, "how-can-i-weight-different-corpora-at-training"], [9, "how-can-i-weight-different-corpora-at-training"]], "How can I apply on-the-fly tokenization and subword regularization when training?": [[1, "how-can-i-apply-on-the-fly-tokenization-and-subword-regularization-when-training"]], "What are the readily available on-the-fly data transforms?": [[1, "what-are-the-readily-available-on-the-fly-data-transforms"]], "General purpose": [[1, "general-purpose"]], "Filter examples by length": [[1, "filter-examples-by-length"]], "Add custom prefix to examples": [[1, "add-custom-prefix-to-examples"]], "Add custom suffix to examples": [[1, "add-custom-suffix-to-examples"]], "Convert examples to uppercase": [[1, "convert-examples-to-uppercase"]], "Normalize punctuation": [[1, "normalize-punctuation"]], "Context / Doc aware transform": [[1, "context-doc-aware-transform"]], "Augment source segments with fuzzy matches for Neural Fuzzy Repair": [[1, "augment-source-segments-with-fuzzy-matches-for-neural-fuzzy-repair"]], "Augment source and target segments with inline tags": [[1, "augment-source-and-target-segments-with-inline-tags"]], "Tokenization": [[1, "tokenization"]], "OpenNMT Tokenizer": [[1, "opennmt-tokenizer"]], "SentencePiece": [[1, "sentencepiece"]], "BPE subword-nmt": [[1, "bpe-subword-nmt"]], "BART-style noise": [[1, "bart-style-noise"]], "SwitchOut and sampling": [[1, "switchout-and-sampling"]], "SwitchOut": [[1, "switchout"]], "Drop some tokens": [[1, "drop-some-tokens"]], "Mask some tokens": [[1, "mask-some-tokens"]], "How can I create custom on-the-fly data transforms?": [[1, "how-can-i-create-custom-on-the-fly-data-transforms"]], "How to use LoRa to finetune a big model ?": [[1, "how-to-use-lora-to-finetune-a-big-model"]], "Can I get word alignments while translating?": [[1, "can-i-get-word-alignments-while-translating"]], "Raw alignments from averaging Transformer attention heads": [[1, "raw-alignments-from-averaging-transformer-attention-heads"], [9, "raw-alignments-from-averaging-transformer-attention-heads"]], "Supervised learning on a specific head": [[1, "supervised-learning-on-a-specific-head"], [9, "supervised-learning-on-a-specific-head"]], "How can I update a checkpoint\u2019s vocabulary?": [[1, "how-can-i-update-a-checkpoint-s-vocabulary"]], "How can I use source word features?": [[1, "how-can-i-use-source-word-features"]], "How can I set up a translation server ?": [[1, "how-can-i-set-up-a-translation-server"]], "I. How it works?": [[1, "i-how-it-works"]], "Configuration:": [[1, "configuration"]], "II. How to start the server without Docker ?": [[1, "ii-how-to-start-the-server-without-docker"]], "0. Get the code": [[1, "get-the-code"]], "1. Install flask": [[1, "install-flask"]], "2. Put some models": [[1, "put-some-models"]], "3. Start the server": [[1, "start-the-server"]], "III. How to start the server with Docker ?": [[1, "iii-how-to-start-the-server-with-docker"]], "IV. How to use the API ?": [[1, "iv-how-to-use-the-api"]], "0. Set the hostname": [[1, "set-the-hostname"]], "1. List models": [[1, "list-models"]], "2. Translate": [[1, "translate"]], "Versions": [[2, "versions"]], "Breaking changes": [[2, "breaking-changes"]], "Gated Graph Neural Networks": [[3, "gated-graph-neural-networks"]], "Dependencies": [[3, "dependencies"], [6, "dependencies"], [10, "dependencies"], [11, "dependencies"]], "Quick Start": [[3, "quick-start"], [10, "quick-start"], [11, "quick-start"]], "Graph data format": [[3, "graph-data-format"]], "Vocabulary notes": [[3, "vocabulary-notes"]], "Options": [[3, "options"], [10, "options"], [11, "options"]], "Acknowledgement": [[3, "acknowledgement"], [11, "acknowledgement"]], "Summarization CNN/DM": [[4, "summarization-cnn-dm"]], "Preparing the data and vocab": [[4, "preparing-the-data-and-vocab"]], "Training": [[4, "training"], [9, "training"]], "Inference": [[4, "inference"]], "Evaluation": [[4, "evaluation"]], "CNN-DM": [[4, "cnn-dm"], [4, "id1"]], "Gigaword": [[4, "gigaword"], [4, "id2"]], "Scores and Models": [[4, "scores-and-models"]], "References": [[4, "references"], [24, "references"]], "Language Model Wiki-103": [[5, "language-model-wiki-103"]], "Step 0: Download and clean the data": [[5, "step-0-download-and-clean-the-data"]], "Step 1: Prepare the subword model - BPE with pyonmttok": [[5, "step-1-prepare-the-subword-model-bpe-with-pyonmttok"]], "Step 2: Build the vocabulary": [[5, "step-2-build-the-vocabulary"]], "Language Model specificities": [[5, "language-model-specificities"]], "BPE specificities": [[5, "bpe-specificities"]], "Build vocabulary command": [[5, "build-vocabulary-command"]], "Step 3: Train the model": [[5, "step-3-train-the-model"]], "Step 4: Generate output": [[5, "step-4-generate-output"]], "Translation WMT17 en-de": [[6, "translation-wmt17-en-de"]], "PyTorch": [[6, "pytorch"]], "Apex": [[6, "apex"]], "Subword-NMT": [[6, "subword-nmt"]], "OpenNMT-py": [[6, "opennmt-py"]], "Running WMT17 EN-DE": [[6, "running-wmt17-en-de"]], "Get Data and prepare": [[6, "get-data-and-prepare"]], "Train": [[6, "train"], [21, "train"]], "Translation": [[7, "translation"], [18, "translation"]], "Step 0: Download the data and prepare the subwords model": [[7, "step-0-download-the-data-and-prepare-the-subwords-model"]], "Step 1. Build the vocabulary.": [[7, "step-1-build-the-vocabulary"]], "Step 2: Train the model": [[7, "step-2-train-the-model"], [23, "step-2-train-the-model"]], "Step 3: Translate and evaluate": [[7, "step-3-translate-and-evaluate"]], "Contents": [[8, "contents"]], "Getting Started": [[8, null]], "Frequently Asked Questions": [[8, null]], "Examples": [[8, null]], "Scripts": [[8, null]], "API": [[8, null]], "Legacy": [[8, null]], "FAQ (Legacy version)": [[9, "faq-legacy-version"]], "How do I use the Transformer model?": [[9, "how-do-i-use-the-transformer-model"]], "Preprocessing": [[9, "preprocessing"]], "Can I get word alignment while translating?": [[9, "can-i-get-word-alignment-while-translating"]], "Image to Text": [[10, "image-to-text"]], "Speech to Text": [[11, "speech-to-text"]], "Video to Text": [[12, "video-to-text"]], "Recurrent": [[12, "recurrent"]], "Transformer": [[12, "transformer"]], "Overview": [[13, "overview"]], "Installation": [[13, "installation"]], "Citation": [[13, "citation"]], "Additional resources": [[13, "additional-resources"]], "Framework": [[14, "framework"]], "Model": [[14, "model"], [22, "Model"]], "Trainer": [[14, "trainer"]], "Loss": [[14, "loss"]], "Optimizer": [[14, "optimizer"]], "Data Loaders": [[15, "data-loaders"]], "Data Iterator": [[15, "data-iterator"]], "Dataset": [[15, "dataset"]], "Modules": [[16, "modules"]], "Embeddings": [[16, "embeddings"], [21, "Embeddings"]], "Encoders": [[16, "encoders"]], "Decoders": [[16, "decoders"]], "Attention": [[16, "attention"]], "Server": [[17, "server"], [20, "server"]], "Models": [[17, "models"]], "Core Server": [[17, "core-server"]], "Translations": [[18, "translations"]], "Translator Class": [[18, "translator-class"]], "Decoding Strategies": [[18, "decoding-strategies"]], "Scoring": [[18, "scoring"]], "Build Vocab": [[19, "build-vocab"]], "Configuration": [[19, "Configuration"], [21, "Configuration"], [22, "Configuration"]], "Data": [[19, "Data"], [21, "Data"], [22, "Data"]], "Vocab": [[19, "Vocab"], [21, "Vocab"]], "Features": [[19, "Features"], [21, "Features"], [22, "Features"]], "Transform/Docify": [[19, "Transform/Docify"], [21, "Transform/Docify"], [22, "Transform/Docify"]], "Transform/FuzzyMatching": [[19, "Transform/FuzzyMatching"], [21, "Transform/FuzzyMatching"], [22, "Transform/FuzzyMatching"]], "Transform/Uppercase": [[19, "Transform/Uppercase"], [21, "Transform/Uppercase"], [22, "Transform/Uppercase"]], "Transform/BART": [[19, "Transform/BART"], [21, "Transform/BART"], [22, "Transform/BART"]], "Transform/Subword/Common": [[19, "Transform/Subword/Common"], [21, "Transform/Subword/Common"], [22, "Transform/Subword/Common"]], "Transform/Subword/ONMTTOK": [[19, "Transform/Subword/ONMTTOK"], [21, "Transform/Subword/ONMTTOK"], [22, "Transform/Subword/ONMTTOK"]], "Transform/SwitchOut": [[19, "Transform/SwitchOut"], [21, "Transform/SwitchOut"], [22, "Transform/SwitchOut"]], "Transform/Token_Drop": [[19, "Transform/Token_Drop"], [21, "Transform/Token_Drop"], [22, "Transform/Token_Drop"]], "Transform/Token_Mask": [[19, "Transform/Token_Mask"], [21, "Transform/Token_Mask"], [22, "Transform/Token_Mask"]], "Transform/Normalize": [[19, "Transform/Normalize"], [21, "Transform/Normalize"], [22, "Transform/Normalize"]], "Transform/InferFeats": [[19, "Transform/InferFeats"], [21, "Transform/InferFeats"], [22, "Transform/InferFeats"]], "Transform/InlineTags": [[19, "Transform/InlineTags"], [21, "Transform/InlineTags"], [22, "Transform/InlineTags"]], "Transform/Filter": [[19, "Transform/Filter"], [21, "Transform/Filter"], [22, "Transform/Filter"]], "Transform/Prefix": [[19, "Transform/Prefix"], [21, "Transform/Prefix"], [22, "Transform/Prefix"]], "Transform/Suffix": [[19, "Transform/Suffix"], [21, "Transform/Suffix"], [22, "Transform/Suffix"]], "Reproducibility": [[19, "Reproducibility"], [21, "Reproducibility"], [22, "Reproducibility"]], "Named Arguments": [[20, "Named Arguments"]], "Pruning": [[21, "Pruning"]], "Model-Embeddings": [[21, "Model-Embeddings"]], "Model-Embedding Features": [[21, "Model-Embedding Features"]], "Model- Task": [[21, "Model- Task"]], "Model- Encoder-Decoder": [[21, "Model- Encoder-Decoder"]], "Model- Attention": [[21, "Model- Attention"]], "Model - Alignement": [[21, "Model - Alignement"]], "Generator": [[21, "Generator"]], "General": [[21, "General"]], "Initialization": [[21, "Initialization"]], "Optimization- Type": [[21, "Optimization- Type"]], "Optimization- Rate": [[21, "Optimization- Rate"]], "Logging": [[21, "Logging"], [22, "Logging"]], "Dynamic data": [[21, "Dynamic data"]], "Translate": [[22, "translate"]], "Beam Search": [[22, "Beam Search"]], "Random Sampling": [[22, "Random Sampling"]], "Penalties": [[22, "Penalties"]], "Decoding tricks": [[22, "Decoding tricks"]], "Efficiency": [[22, "Efficiency"]], "Quickstart": [[23, "quickstart"]], "Step 0: Install OpenNMT-py": [[23, "step-0-install-opennmt-py"]], "Step 1: Prepare the data": [[23, "step-1-prepare-the-data"]], "Step 3: Translate": [[23, "step-3-translate"]]}, "indexentries": {"adafactor (class in onmt.utils)": [[14, "onmt.utils.AdaFactor"]], "basemodel (class in onmt.models)": [[14, "onmt.models.BaseModel"]], "fusedadam (class in onmt.utils)": [[14, "onmt.utils.FusedAdam"]], "languagemodel (class in onmt.models)": [[14, "onmt.models.LanguageModel"]], "losscompute (class in onmt.utils.loss)": [[14, "onmt.utils.loss.LossCompute"]], "nmtmodel (class in onmt.models)": [[14, "onmt.models.NMTModel"]], "optimizer (class in onmt.utils)": [[14, "onmt.utils.Optimizer"]], "statistics (class in onmt.utils)": [[14, "onmt.utils.Statistics"]], "trainer (class in onmt)": [[14, "onmt.Trainer"]], "accuracy() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.accuracy"]], "all_gather_stats() (onmt.utils.statistics static method)": [[14, "onmt.utils.Statistics.all_gather_stats"]], "all_gather_stats_list() (onmt.utils.statistics static method)": [[14, "onmt.utils.Statistics.all_gather_stats_list"]], "amp (onmt.utils.optimizer property)": [[14, "onmt.utils.Optimizer.amp"]], "backward() (onmt.utils.optimizer method)": [[14, "onmt.utils.Optimizer.backward"]], "count_parameters() (onmt.models.languagemodel method)": [[14, "onmt.models.LanguageModel.count_parameters"]], "count_parameters() (onmt.models.nmtmodel method)": [[14, "onmt.models.NMTModel.count_parameters"]], "elapsed_time() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.elapsed_time"]], "forward() (onmt.models.basemodel method)": [[14, "onmt.models.BaseModel.forward"]], "forward() (onmt.models.languagemodel method)": [[14, "onmt.models.LanguageModel.forward"]], "forward() (onmt.models.nmtmodel method)": [[14, "onmt.models.NMTModel.forward"]], "forward() (onmt.utils.loss.losscompute method)": [[14, "onmt.utils.loss.LossCompute.forward"]], "from_opt() (onmt.utils.optimizer class method)": [[14, "onmt.utils.Optimizer.from_opt"]], "from_opts() (onmt.utils.loss.losscompute class method)": [[14, "onmt.utils.loss.LossCompute.from_opts"]], "learning_rate() (onmt.utils.optimizer method)": [[14, "onmt.utils.Optimizer.learning_rate"]], "log_tensorboard() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.log_tensorboard"]], "output() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.output"]], "ppl() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.ppl"]], "step() (onmt.utils.adafactor method)": [[14, "onmt.utils.AdaFactor.step"]], "step() (onmt.utils.fusedadam method)": [[14, "onmt.utils.FusedAdam.step"]], "step() (onmt.utils.optimizer method)": [[14, "onmt.utils.Optimizer.step"]], "train() (onmt.trainer method)": [[14, "onmt.Trainer.train"]], "training_step (onmt.utils.optimizer property)": [[14, "onmt.utils.Optimizer.training_step"]], "update() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.update"]], "validate() (onmt.trainer method)": [[14, "onmt.Trainer.validate"]], "xent() (onmt.utils.statistics method)": [[14, "onmt.utils.Statistics.xent"]], "zero_grad() (onmt.utils.optimizer method)": [[14, "onmt.utils.Optimizer.zero_grad"]], "dynamicdatasetiter (class in onmt.inputters)": [[15, "onmt.inputters.DynamicDatasetIter"]], "mixingstrategy (class in onmt.inputters)": [[15, "onmt.inputters.MixingStrategy"]], "parallelcorpus (class in onmt.inputters)": [[15, "onmt.inputters.ParallelCorpus"]], "parallelcorpusiterator (class in onmt.inputters)": [[15, "onmt.inputters.ParallelCorpusIterator"]], "sequentialmixer (class in onmt.inputters)": [[15, "onmt.inputters.SequentialMixer"]], "weightedmixer (class in onmt.inputters)": [[15, "onmt.inputters.WeightedMixer"]], "batch_iter() (onmt.inputters.dynamicdatasetiter method)": [[15, "onmt.inputters.DynamicDatasetIter.batch_iter"]], "from_opt() (onmt.inputters.dynamicdatasetiter class method)": [[15, "onmt.inputters.DynamicDatasetIter.from_opt"]], "load() (onmt.inputters.parallelcorpus method)": [[15, "onmt.inputters.ParallelCorpus.load"]], "averageattention (class in onmt.modules)": [[16, "onmt.modules.AverageAttention"]], "cnndecoder (class in onmt.decoders)": [[16, "onmt.decoders.CNNDecoder"]], "cnnencoder (class in onmt.encoders)": [[16, "onmt.encoders.CNNEncoder"]], "convmultistepattention (class in onmt.modules)": [[16, "onmt.modules.ConvMultiStepAttention"]], "copygenerator (class in onmt.modules)": [[16, "onmt.modules.CopyGenerator"]], "decoderbase (class in onmt.decoders)": [[16, "onmt.decoders.DecoderBase"]], "embeddings (class in onmt.modules)": [[16, "onmt.modules.Embeddings"]], "encoderbase (class in onmt.encoders)": [[16, "onmt.encoders.EncoderBase"]], "ggnnencoder (class in onmt.encoders)": [[16, "onmt.encoders.GGNNEncoder"]], "globalattention (class in onmt.modules)": [[16, "onmt.modules.GlobalAttention"]], "inputfeedrnndecoder (class in onmt.decoders)": [[16, "onmt.decoders.InputFeedRNNDecoder"]], "matrixtree (class in onmt.modules.structured_attention)": [[16, "onmt.modules.structured_attention.MatrixTree"]], "meanencoder (class in onmt.encoders)": [[16, "onmt.encoders.MeanEncoder"]], "multiheadedattention (class in onmt.modules)": [[16, "onmt.modules.MultiHeadedAttention"]], "positionalencoding (class in onmt.modules)": [[16, "onmt.modules.PositionalEncoding"]], "positionwisefeedforward (class in onmt.modules.position_ffn)": [[16, "onmt.modules.position_ffn.PositionwiseFeedForward"]], "rnndecoderbase (class in onmt.decoders.decoder)": [[16, "onmt.decoders.decoder.RNNDecoderBase"]], "rnnencoder (class in onmt.encoders)": [[16, "onmt.encoders.RNNEncoder"]], "stdrnndecoder (class in onmt.decoders)": [[16, "onmt.decoders.StdRNNDecoder"]], "transformerdecoder (class in onmt.decoders)": [[16, "onmt.decoders.TransformerDecoder"]], "transformerencoder (class in onmt.encoders)": [[16, "onmt.encoders.TransformerEncoder"]], "apply_mask() (onmt.modules.convmultistepattention method)": [[16, "onmt.modules.ConvMultiStepAttention.apply_mask"]], "emb_luts (onmt.modules.embeddings property)": [[16, "onmt.modules.Embeddings.emb_luts"]], "forward() (onmt.decoders.cnndecoder method)": [[16, "onmt.decoders.CNNDecoder.forward"]], "forward() (onmt.decoders.transformerdecoder method)": [[16, "onmt.decoders.TransformerDecoder.forward"]], "forward() (onmt.decoders.decoder.rnndecoderbase method)": [[16, "onmt.decoders.decoder.RNNDecoderBase.forward"]], "forward() (onmt.encoders.cnnencoder method)": [[16, "onmt.encoders.CNNEncoder.forward"]], "forward() (onmt.encoders.encoderbase method)": [[16, "onmt.encoders.EncoderBase.forward"]], "forward() (onmt.encoders.ggnnencoder method)": [[16, "onmt.encoders.GGNNEncoder.forward"]], "forward() (onmt.encoders.meanencoder method)": [[16, "onmt.encoders.MeanEncoder.forward"]], "forward() (onmt.encoders.rnnencoder method)": [[16, "onmt.encoders.RNNEncoder.forward"]], "forward() (onmt.encoders.transformerencoder method)": [[16, "onmt.encoders.TransformerEncoder.forward"]], "forward() (onmt.modules.averageattention method)": [[16, "onmt.modules.AverageAttention.forward"]], "forward() (onmt.modules.convmultistepattention method)": [[16, "onmt.modules.ConvMultiStepAttention.forward"]], "forward() (onmt.modules.copygenerator method)": [[16, "onmt.modules.CopyGenerator.forward"]], "forward() (onmt.modules.embeddings method)": [[16, "onmt.modules.Embeddings.forward"]], "forward() (onmt.modules.globalattention method)": [[16, "onmt.modules.GlobalAttention.forward"]], "forward() (onmt.modules.multiheadedattention method)": [[16, "onmt.modules.MultiHeadedAttention.forward"]], "forward() (onmt.modules.positionalencoding method)": [[16, "onmt.modules.PositionalEncoding.forward"]], "forward() (onmt.modules.position_ffn.positionwisefeedforward method)": [[16, "onmt.modules.position_ffn.PositionwiseFeedForward.forward"]], "forward() (onmt.modules.structured_attention.matrixtree method)": [[16, "onmt.modules.structured_attention.MatrixTree.forward"]], "from_opt() (onmt.decoders.cnndecoder class method)": [[16, "onmt.decoders.CNNDecoder.from_opt"]], "from_opt() (onmt.decoders.decoderbase class method)": [[16, "onmt.decoders.DecoderBase.from_opt"]], "from_opt() (onmt.decoders.decoder.rnndecoderbase class method)": [[16, "onmt.decoders.decoder.RNNDecoderBase.from_opt"]], "from_opt() (onmt.encoders.cnnencoder class method)": [[16, "onmt.encoders.CNNEncoder.from_opt"]], "from_opt() (onmt.encoders.ggnnencoder class method)": [[16, "onmt.encoders.GGNNEncoder.from_opt"]], "from_opt() (onmt.encoders.meanencoder class method)": [[16, "onmt.encoders.MeanEncoder.from_opt"]], "from_opt() (onmt.encoders.rnnencoder class method)": [[16, "onmt.encoders.RNNEncoder.from_opt"]], "from_opt() (onmt.encoders.transformerencoder class method)": [[16, "onmt.encoders.TransformerEncoder.from_opt"]], "init_state() (onmt.decoders.cnndecoder method)": [[16, "onmt.decoders.CNNDecoder.init_state"]], "init_state() (onmt.decoders.decoder.rnndecoderbase method)": [[16, "onmt.decoders.decoder.RNNDecoderBase.init_state"]], "load_pretrained_vectors() (onmt.modules.embeddings method)": [[16, "onmt.modules.Embeddings.load_pretrained_vectors"]], "score() (onmt.modules.globalattention method)": [[16, "onmt.modules.GlobalAttention.score"]], "word_lut (onmt.modules.embeddings property)": [[16, "onmt.modules.Embeddings.word_lut"]], "servermodel (class in onmt.translate.translation_server)": [[17, "onmt.translate.translation_server.ServerModel"]], "servermodelerror": [[17, "onmt.translate.translation_server.ServerModelError"]], "timer (class in onmt.translate.translation_server)": [[17, "onmt.translate.translation_server.Timer"]], "translationserver (class in onmt.translate.translation_server)": [[17, "onmt.translate.translation_server.TranslationServer"]], "build_tokenizer() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.build_tokenizer"]], "clone_model() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.clone_model"]], "detokenize() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.detokenize"]], "do_timeout() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.do_timeout"]], "list_models() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.list_models"]], "load_model() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.load_model"]], "maybe_convert_align() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_convert_align"]], "maybe_detokenize() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_detokenize"]], "maybe_detokenize_with_align() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_detokenize_with_align"]], "maybe_postprocess() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_postprocess"]], "maybe_preprocess() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_preprocess"]], "maybe_tokenize() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_tokenize"]], "maybe_transform_feats() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.maybe_transform_feats"]], "parse_opt() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.parse_opt"]], "postprocess() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.postprocess"]], "preload_model() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.preload_model"]], "preprocess() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.preprocess"]], "rebuild_seg_packages() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.rebuild_seg_packages"]], "run() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.run"]], "start() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.start"]], "to_gpu() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.to_gpu"]], "tokenize() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.tokenize"]], "tokenizer_marker() (onmt.translate.translation_server.servermodel method)": [[17, "onmt.translate.translation_server.ServerModel.tokenizer_marker"]], "unload_model() (onmt.translate.translation_server.translationserver method)": [[17, "onmt.translate.translation_server.TranslationServer.unload_model"]], "beamsearch (class in onmt.translate)": [[18, "onmt.translate.BeamSearch"]], "decodestrategy (class in onmt.translate)": [[18, "onmt.translate.DecodeStrategy"]], "gnmtglobalscorer (class in onmt.translate)": [[18, "onmt.translate.GNMTGlobalScorer"]], "greedysearch (class in onmt.translate)": [[18, "onmt.translate.GreedySearch"]], "penaltybuilder (class in onmt.translate.penalties)": [[18, "onmt.translate.penalties.PenaltyBuilder"]], "translation (class in onmt.translate)": [[18, "onmt.translate.Translation"]], "translationbuilder (class in onmt.translate)": [[18, "onmt.translate.TranslationBuilder"]], "translator (class in onmt.translate)": [[18, "onmt.translate.Translator"]], "advance() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.advance"]], "advance() (onmt.translate.greedysearch method)": [[18, "onmt.translate.GreedySearch.advance"]], "block_ngram_repeats() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.block_ngram_repeats"]], "coverage_none() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.coverage_none"]], "coverage_summary() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.coverage_summary"]], "coverage_wu() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.coverage_wu"]], "initialize() (onmt.translate.beamsearch method)": [[18, "onmt.translate.BeamSearch.initialize"]], "initialize() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.initialize"]], "initialize() (onmt.translate.greedysearch method)": [[18, "onmt.translate.GreedySearch.initialize"]], "length_average() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.length_average"]], "length_none() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.length_none"]], "length_wu() (onmt.translate.penalties.penaltybuilder method)": [[18, "onmt.translate.penalties.PenaltyBuilder.length_wu"]], "log() (onmt.translate.translation method)": [[18, "onmt.translate.Translation.log"]], "maybe_update_forbidden_tokens() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.maybe_update_forbidden_tokens"]], "maybe_update_target_prefix() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.maybe_update_target_prefix"]], "sample_with_temperature() (in module onmt.translate.greedy_search)": [[18, "onmt.translate.greedy_search.sample_with_temperature"]], "target_prefixing() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.target_prefixing"]], "translate_batch() (onmt.translate.translator method)": [[18, "onmt.translate.Translator.translate_batch"]], "update_finished() (onmt.translate.decodestrategy method)": [[18, "onmt.translate.DecodeStrategy.update_finished"]], "update_finished() (onmt.translate.greedysearch method)": [[18, "onmt.translate.GreedySearch.update_finished"]]}})